language: typescript
type: application
platform: node

fileGroups:
  vite:
    - "vite.config.ts"
    - "**/*.ts"
    - "**/*.tsx"
    - "src/**/*.js"
    - "src/**/*.jsx"
    - "src/**/*.elm"
  elmSources:
    - "src"
tags:
  - "elm"

tasks:
  bundle:
   command:  "vite build --ssr"
   inputs: 
    - '@globs(vite)'
   outputs: 
    - "dist"  
  build:
    deps:
      - target: "~:bundle"