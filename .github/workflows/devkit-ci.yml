name: Morphir DevKit CI
on:
    push:
      branches: [main]
    pull_request:
      branches: [main]

jobs:
    lint:
        runs-on: ubuntu-latest
        timeout-minutes: 30
        steps:
          - name: Checkout current branch
            uses: actions/checkout@v4
            with:
              fetch-depth: 0
          - name: Setup Scala and Java
            uses: actions/setup-java@v4
            with:
              distribution: "temurin"
              java-version: "17"
          - name: Cache scala dependencies
            uses: coursier/cache-action@v6

          - name: Lint code
            run: ./mill -i Alias/lint 