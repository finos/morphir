# Morphir Development Tools Configuration
# This project contains:
# - Rust-based tooling (crates/morphir-live)
# - Docusaurus website (website/)

[settings]
experimental = true

[tools]
# Core tools
rust = "1.93.0"
python = "3.14.2"

# JavaScript runtimes for website and tooling
node = "24.13.0"
bun = "1.3.8"

# Rust tools
"cargo:cargo-binstall" = "latest"
"cargo:dioxus-cli" = "latest"            # Provides dx command
"aqua:WebAssembly/binaryen" = "125"      # Provides wasm-opt

# Rust development tasks
[tasks.fmt]
description = "Format Rust code"
run = "cargo fmt --all"

[tasks.fmt-check]
description = "Check Rust code formatting"
run = "cargo fmt --all --check"

[tasks.lint]
description = "Run Clippy linter"
run = "cargo clippy --all-targets --all-features -- -D warnings"

[tasks.test]
description = "Run tests"
run = "cargo test --all-features --workspace"

[tasks.build]
description = "Build release"
run = "cargo build --release --workspace"

[tasks.check]
description = "Run all checks"
depends = ["fmt-check", "lint"]

[tasks.dev]
description = "Run morphir-live in development mode"
run = "dx serve"
dir = "crates/morphir-live"

[tasks.clean]
description = "Clean build artifacts"
run = "cargo clean"
