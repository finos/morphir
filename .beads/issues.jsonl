{"id":"morphir-010","title":"Evaluate usage spec for CLI extensions","description":"Explore using usage spec to provide CLI extensions that integrate with other CLIs (e.g., discoverable subcommands/flags). Assess feasibility, integration points, and any tooling changes needed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T00:54:29Z","created_by":"damian","updated_at":"2026-01-06T00:54:56Z"}
{"id":"morphir-0ij","title":"Implement type/value/pattern BDD features","description":"Create feature files and step definitions for type, value, and pattern IR","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-02T09:53:10Z","created_by":"damian","updated_at":"2026-01-05T17:29:23Z","closed_at":"2026-01-02T10:24:58Z","close_reason":"Implemented type decode feature file with V1/V3 Unit, Variable, Record scenarios"}
{"id":"morphir-0w4","title":"Implement distribution BDD features","description":"Create distribution decode/roundtrip feature files and step definitions","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-02T09:53:09Z","created_by":"damian","updated_at":"2026-01-05T17:29:23Z","closed_at":"2026-01-02T10:24:46Z","close_reason":"Implemented distribution decode feature file with V1/V3 scenarios and step definitions"}
{"id":"morphir-0zj","title":"Implement explicit toolchain enabled config","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T20:02:36Z","created_by":"damian","updated_at":"2026-01-13T09:56:26Z","closed_at":"2026-01-12T21:45:40Z"}
{"id":"morphir-10e","title":"Render markdown output with glamour for beautiful terminal display","description":"Enhance the existing markdown report output by rendering it beautifully in the terminal, similar to Charmbracelet's Glow CLI.\n\n## Reference\n- Glow CLI: https://github.com/charmbracelet/glow\n- Glamour library (used by Glow): https://github.com/charmbracelet/glamour\n\n## Current State\n- `morphir validate --report markdown` outputs raw markdown text\n- Users must pipe to external tools like `glow` or `bat` for nice rendering\n\n## Desired State\n- Automatically render markdown with glamour (the library Glow uses) when outputting to a terminal (TTY)\n- Fall back to raw markdown when piped or redirected to a file\n- Support `--no-color` flag to disable styling\n- Achieve Glow-like beautiful rendering inline\n\n## Implementation\n```go\nimport \"github.com/charmbracelet/glamour\"\n\nfunc renderMarkdown(content string) string {\n    if \\!isTerminal(os.Stdout) {\n        return content // Raw markdown for pipes/files\n    }\n    \n    renderer, _ := glamour.NewTermRenderer(\n        glamour.WithAutoStyle(),\n        glamour.WithWordWrap(terminalWidth()),\n    )\n    out, _ := renderer.Render(content)\n    return out\n}\n```\n\n## Features\n- Auto-detect terminal vs pipe output\n- Respect `NO_COLOR` environment variable\n- Word wrap to terminal width\n- Syntax highlighting for JSON code blocks (like Glow does)\n- Styled tables, headers, and emphasis\n\n## Example\n```bash\n# Beautiful Glow-like rendered output in terminal\nmorphir validate ./ir.json --report markdown\n\n# Raw markdown when piped\nmorphir validate ./ir.json --report markdown \u003e report.md\nmorphir validate ./ir.json --report markdown | less\n```\n\n## Libraries\n- `github.com/charmbracelet/glamour` - Markdown rendering (same library Glow uses)\n- `github.com/charmbracelet/lipgloss` - Styling\n- `github.com/mattn/go-isatty` - TTY detection","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-03T12:56:16Z","created_by":"damian","updated_at":"2026-01-05T17:29:23Z","closed_at":"2026-01-04T00:17:55Z"}
{"id":"morphir-10w","title":"Improve release process based on v0.4.0-alpha.2 retrospective","description":"## Context\n\nDuring the v0.4.0-alpha.2 release, we encountered several issues that required 3 workflow attempts before success.\n\n## Issues Encountered\n\n1. New modules without prior tags - pkg/bindings/golang and pkg/toolchain were new but go.mod referenced v0.4.0-alpha.1\n2. Bash arithmetic bug - ((var++)) returns 1 when incrementing from 0\n3. Missing setup-workspace in release workflow\n\n## Improvements\n\n- [ ] Update release-validate.sh to check for new modules without tags\n- [ ] Merge PR #544 (bash arithmetic fix)\n- [ ] Update release-manager skill docs\n- [ ] Add pre-release checklist items","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T04:23:19Z","created_by":"damian","updated_at":"2026-01-13T07:51:03Z","closed_at":"2026-01-13T07:51:03Z","close_reason":"PR #548 created with release validation improvements"}
{"id":"morphir-1e2","title":"Workspace Members Support (like Cargo/npm workspaces)","description":"Implement support for workspace members in Morphir configuration, similar to Cargo, npm, or yarn workspaces. A morphir workspace can consist of multiple member projects in subdirectories, declared via globs. Member projects should have a [project] section for project-specific details. Also support classic morphir.json format from finos/morphir-elm for compatibility.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-02T20:02:11Z","created_by":"damian","updated_at":"2026-01-05T17:29:23Z","closed_at":"2026-01-02T21:00:29Z","close_reason":"All subtasks completed. Implemented workspace member support with: morphir.json parser, glob-based discovery with doublestar, ProjectSection config, member loading/resolution, LoadedWorkspace type, and comprehensive BDD tests (18 scenarios). Supports direct paths, globs, recursive patterns, extension filtering (.toml, .json, .{toml,json}), exclude patterns, and morphir-elm compatibility."}
{"id":"morphir-1ir","title":"Port Value IR model to Go","description":"Port Morphir.IR.Value.Value from Elm to Go stable IR.\n\n## Overview\nImplement the Value IR model in pkg/models/stable/ir/value.go following existing patterns from Type and Pattern.\n\n## Value variants to implement\n- Literal, Constructor, Tuple, List, Record, Variable, Reference, Field, FieldFunction\n- Apply, Lambda, LetDefinition, LetRecursion, Destructure, IfThenElse, PatternMatch, UpdateRecord, Unit\n\n## Upstream references\n- src/Morphir/IR/Value.elm\n- src/Morphir/IR/Value/Codec.elm (v2/v3)\n- src/Morphir/IR/Value/CodecV1.elm (v1)\n\n## Subtasks\n- [ ] Create value.go with Value[TA, VA] interface and all variant structs\n- [ ] Implement constructors for each variant\n- [ ] Add structural equality helper (EqualValue)\n- [ ] Add attribute mapping helper (MapValueAttributes)\n- [ ] Create value.go JSON codec (EncodeValue/DecodeValue)\n- [ ] Support v1 snake_case and v2/v3 PascalCase tags\n- [ ] Add roundtrip tests for v3\n- [ ] Add tag assertion tests (v1 vs v3)\n- [ ] Add wrong-version decode rejection tests","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-02T08:13:25Z","created_by":"damian","updated_at":"2026-01-05T17:29:23Z","closed_at":"2026-01-02T08:34:39Z","close_reason":"Completed implementation of Value IR model and JSON codec with full test coverage"}
{"id":"morphir-1kp","title":"WIT support for wasm component model","description":"Track WIT support for Morphir: parser, package emission, pipeline integration, and tests for WIT packages.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-06T09:54:33Z","created_by":"damian","updated_at":"2026-01-08T16:25:06Z","closed_at":"2026-01-08T16:25:06Z","close_reason":"All children completed - WIT support fully implemented"}
{"id":"morphir-1sa","title":"Define task/target execution engine","description":"Implement tasks (including build/test/clean conventions) that can run intrinsic actions and external commands, configured via morphir.toml.","notes":"Added TaskSection to pkg/config for morphir.toml task configuration. Includes comprehensive unit tests (89.3% coverage) and BDD tests with scenario outlines. Branch: feature/pipeline-enhancements. PR #481 updated with typestate refactoring (sealed interfaces instead of tagged structs). Remaining: built-in target conventions (build/test/clean).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T07:25:45Z","created_by":"damian","updated_at":"2026-01-07T22:36:50Z","closed_at":"2026-01-07T22:36:50Z","close_reason":"Completed: Task execution engine implemented with typestate pattern, external command support, and built-in actions (morphir.validate, morphir.build, morphir.test, morphir.clean). PR #481 updated."}
{"id":"morphir-1v7","title":"Port Package IR to Go","description":"Port Morphir.IR.Package from Elm to Go stable IR.\n\n## Overview\nPackage represents a collection of modules with dependencies.\n\n## Upstream references\n- src/Morphir/IR/Package.elm\n- src/Morphir/IR/Package/Codec.elm\n\n## Subtasks\n- [ ] Create package.go with Package types (Specification, Definition)\n- [ ] Implement PackageSpecification and PackageDefinition\n- [ ] Add JSON codec with v1/v2/v3 support\n- [ ] Add tests","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-02T08:45:21Z","created_by":"damian","updated_at":"2026-01-05T17:29:23Z","closed_at":"2026-01-02T09:26:28Z","close_reason":"Package IR ported to Go with full JSON codec support (v1/v2/v3). Includes PackageSpecification and PackageDefinition types."}
{"id":"morphir-2bu","title":"Improve release process based on v0.4.0-alpha.2 retrospective","description":"## Context\n\nDuring the v0.4.0-alpha.2 release, we encountered several issues that required 3 workflow attempts before success. This task tracks the recommended improvements from the post-release retrospective.\n\n## Issues Encountered\n\n1. **New modules without prior tags** - `pkg/bindings/golang` and `pkg/toolchain` were new but go.mod referenced v0.4.0-alpha.1\n2. **Bash arithmetic bug** - `((var++))` returns 1 when incrementing from 0, causing early exit with `set -e`\n3. **Missing setup-workspace in release workflow** - `go mod tidy` validates versions before applying replace directives\n\n## Recommended Improvements\n\n### 1. Update release-validate.sh\n\nAdd checks for:\n- [ ] New modules without prior tags\n- [ ] go.mod references to non-existent versions\n- [ ] Simulate `go mod tidy` without go.work to catch issues early\n\n```bash\n# Add to release-validate.sh\nrm -f go.work go.work.sum\nbash ./scripts/remove-replace-directives.sh\ngo mod tidy -C cmd/morphir 2\u003e\u00261 || echo \"FAIL: go mod tidy would fail in release\"\ngit checkout -- .  # Restore\n```\n\n### 2. Merge PR #544\n\nThe bash arithmetic fix in release-tags.sh (PR #544) should be merged.\n\n### 3. Update release-manager skill\n\nAdd \"Adding New Modules\" section documenting:\n- Create stub tags for new modules at prior version, OR\n- Update go.mod references in same PR, OR\n- Ensure setup-workspace handles the transition\n\n### 4. Pre-release checklist additions\n\n- [ ] Verify all new modules have tags or proper version references\n- [ ] Run `goreleaser release --snapshot --clean` locally\n\n## Related PRs\n\n- #542 - Release prep\n- #543 - Add setup-workspace to release workflow\n- #544 - Fix release-tags.sh arithmetic (pending)\n- #545 - Update internal module references","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T04:22:18Z","created_by":"damian","updated_at":"2026-01-13T07:40:56Z","closed_at":"2026-01-13T07:40:56Z","close_reason":"Duplicate of morphir-10w"}
{"id":"morphir-2fg","title":"Add Project type and ProjectSection to config","description":"Extend the config package to support project-level configuration:\n- Add ProjectSection struct with name, version, sourceDirectory, exposedModules\n- Add Project type representing a workspace member\n- Update WorkspaceSection to include members []string (glob patterns)\n- Ensure immutability patterns are followed (getters, defensive copies)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T20:03:00Z","created_by":"damian","updated_at":"2026-01-05T17:29:23Z","closed_at":"2026-01-02T20:30:19Z","close_reason":"Implementation complete with tests passing"}
{"id":"morphir-2kn","title":"Release Process Retrospective: v0.4.0-alpha.1","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-08T08:31:45Z","created_by":"damian","updated_at":"2026-01-08T08:42:42Z","closed_at":"2026-01-08T08:42:42Z","close_reason":"Completed release retrospective with automation scripts, updated skills, and CI workflow improvements"}
{"id":"morphir-369","title":"Add SQLite-backed VFS backend","description":"Implement a VFS backend backed by SQLite for persisted virtual files, with mount support and transactional writes.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-05T17:50:35Z","created_by":"damian","updated_at":"2026-01-05T17:50:35Z"}
{"id":"morphir-3cr","title":"Load and validate decoration IR files","description":"Implement decoration IR file loading. Load decoration schema IR files, validate entry point references (PackageName:ModuleName:TypeName format), and extract type definitions for decoration shapes. Reference morphir-elm implementation for validation logic.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T09:01:20Z","created_by":"Damian Reeves","updated_at":"2026-01-12T21:38:57Z","closed_at":"2026-01-12T21:38:57Z","close_reason":"Closed"}
{"id":"morphir-3q5","title":"Implement toolchain auto-enable predicate","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T20:02:33Z","created_by":"damian","updated_at":"2026-01-13T09:56:26Z","closed_at":"2026-01-12T21:45:40Z"}
{"id":"morphir-3sk","title":"Phase 5: Polish \u0026 Ecosystem","description":"Polish the toolchain system and expand ecosystem support.\n\n**GitHub Issue:** https://github.com/finos/morphir/issues/497\n\n## Scope\n- morphir doctor command\n- Additional acquisition backends (mise, npm)\n- Workflow inheritance\n- Diagnostic aggregation\n\n## Acceptance Criteria\n- morphir doctor provides useful diagnostics\n- Can install morphir-elm via mise\n- Workflows can extend toolchain-provided workflows\n- Clear diagnostic output for multi-task builds","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-08T07:04:19Z","created_by":"damian","updated_at":"2026-01-08T07:07:56Z"}
{"id":"morphir-3zv","title":"Improve domain/ package test coverage","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-09T04:09:55Z","created_by":"damian","updated_at":"2026-01-09T04:09:55Z"}
{"id":"morphir-4b6","title":"Define Morphir CLI usage spec (KDL)","description":"Define a usage spec (KDL) for the Morphir CLI and use it for all CLI design/implementation work. Ensure future CLI changes include updates to the usage spec.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-06T00:56:12Z","created_by":"damian","updated_at":"2026-01-06T00:56:12Z"}
{"id":"morphir-4bi","title":"Implement WIT parser","description":"Implement a pure, reusable WIT parser aligned with the local WIT spec markdown. Designed for use as Morphir frontend/backend.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T09:56:50Z","created_by":"damian","updated_at":"2026-01-07T09:34:19Z","closed_at":"2026-01-07T09:34:19Z","close_reason":"Implemented pure WIT parser with lexer, parser, and compatibility tests against bytecodealliance/wit"}
{"id":"morphir-4f3","title":"Phase 2: WIT Toolchain Adapter","description":"Adapt the existing WIT pipeline to the toolchain abstraction.\n\n**GitHub Issue:** https://github.com/finos/morphir/issues/499\n\n## Scope\n- Adapt existing WIT pipeline to toolchain abstraction\n- Register WIT as native toolchain (make, gen, build targets)\n- Unify morphir wit * commands with toolchain CLI\n- JSONL diagnostic integration with task system\n- Validate native toolchain patterns for reuse\n\n## Acceptance Criteria\n- WIT toolchain registered in toolchain registry\n- morphir wit make/gen/build work through toolchain framework\n- JSONL diagnostics flow through task system\n- Pattern validated for other native toolchains","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-08T07:19:47Z","created_by":"damian","updated_at":"2026-01-09T02:06:29Z","closed_at":"2026-01-09T02:06:29Z","close_reason":"PR #526 submitted implementing WIT toolchain adapter"}
{"id":"morphir-4ha","title":"Create main SDK package registry","description":"Create the main SDK package that aggregates all module specifications.\n\nThis is the central registry that brings together all SDK modules.\n\nKey items:\n- package.go file with PackageName() and PackageSpec() functions\n- Aggregates all module specs into a PackageSpecification\n- Package-level documentation\n- Tests for package structure\n\nAll 21 SDK modules (Basics, List, Maybe, Result, String, Char, Int, Decimal, Number, Tuple, Dict, Set, LocalDate, LocalTime, ResultList, Aggregate, Rule, StatefulApp, UUID, Key, Regex) are included.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T15:10:00Z","created_by":"damian","updated_at":"2026-01-05T17:29:23Z","closed_at":"2026-01-02T18:00:00Z","close_reason":"Completed SDK package registry implementation with all 21 modules and comprehensive tests"}
{"id":"morphir-4wm","title":"Port Distribution IR to Go","description":"Port Morphir.IR.Distribution from Elm to Go stable IR.\n\n## Overview\nDistribution is the top-level IR container with the full package and dependencies.\n\n## Upstream references\n- src/Morphir/IR/Distribution.elm\n- src/Morphir/IR/Distribution/Codec.elm\n\n## Subtasks\n- [ ] Create distribution.go with Distribution type\n- [ ] Add JSON codec with v1/v2/v3 support\n- [ ] Add tests\n- [ ] Integration test with real morphir-ir.json files","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-02T08:45:21Z","created_by":"damian","updated_at":"2026-01-05T17:29:23Z","closed_at":"2026-01-02T09:31:44Z","close_reason":"Distribution IR ported to Go with Library variant and full JSON codec support (v1/v2/v3)."}
{"id":"morphir-4z2","title":"Integrate bytecodealliance/wit decoder with adapter","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T19:11:30Z","created_by":"damian","updated_at":"2026-01-06T20:01:20Z","closed_at":"2026-01-06T20:01:20Z","close_reason":"Created integration test validating WIT file → bytecodealliance/wit decoder → FromWIT adapter pipeline. Test successfully loads WASI clocks fixture and processes through adapter. Skips on expected record type limitation."}
{"id":"morphir-5dz","title":"Migrate task runner from just to mise","description":"Switch repo task runner from Justfile/just to mise scripts. Update CI workflows, docs, scripts, and hooks where just is referenced. Ensure mise is installed at latest in CI and scripts are OS-aware.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T22:27:15Z","created_by":"damian","updated_at":"2026-01-05T23:18:35Z","closed_at":"2026-01-05T23:18:35Z","close_reason":"Completed"}
{"id":"morphir-5il","title":"Add Morphir IR visitor framework","description":"Design and implement IR visitors to support pretty printing, encoding/decoding, and other traversals, inspired by upickle/visitor patterns.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T07:25:59Z","created_by":"damian","updated_at":"2026-01-08T00:47:08Z","closed_at":"2026-01-08T00:47:08Z","close_reason":"Implemented in PR #486"}
{"id":"morphir-5pg","title":"Add morphir spec and json schemas","description":"The finos/morphir-dotnet project contains a copy of the morphir ir spec and 3 morphir json schemas (in YAML format) that are useful for validating conformance to Morphir. We need to bring the spec and schema into this repo so we can incorporate it both into our tooling and in our docs (including coding agent instructions) so that it is easily referenceable and so we can make design decisions in the future about extensions.\n\nWe are also gonna want to embed the schemas in models package so that we can perform schema validation (we'll want to wire that schema validation up to the validate cli command)","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-02T22:12:00Z","created_by":"damian","updated_at":"2026-01-05T17:29:23Z","closed_at":"2026-01-02T23:13:12Z","close_reason":"All subtasks completed: spec and schemas copied, schemas embedded in models package, validate CLI command implemented"}
{"id":"morphir-5r9","title":"Phase 2: morphir-elm Integration","description":"Enable Morphir to orchestrate morphir-elm for IR generation and code generation.\n\n**GitHub Issue:** https://github.com/finos/morphir/issues/494\n\n## Scope\n- NPX acquisition backend\n- morphir-elm toolchain definition\n- make and gen task implementations\n- File-based artifact passing\n\n## Acceptance Criteria\n- morphir make successfully invokes morphir-elm make\n- morphir gen:scala successfully invokes morphir-elm gen -t Scala\n- Artifacts flow correctly between make and gen tasks\n- Works with morphir-elm installed via npx","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-08T07:03:50Z","created_by":"damian","updated_at":"2026-01-09T04:33:23Z","closed_at":"2026-01-09T04:33:23Z","close_reason":"Implemented in PR #530. NPX backend and morphir-elm toolchain adapter complete."}
{"id":"morphir-648","title":"Fix version embedding in binary - morphir --version shows 'dev' instead of release version","description":"The morphir binary built by GoReleaser doesn't have the version string embedded. Running `morphir --version` shows 'dev' instead of the actual release version (e.g., 'v0.3.2').\n\nRoot cause: .goreleaser.yaml ldflags may not be correctly injecting the version.\n\nImpact: Low priority - cosmetic issue, but affects user experience when checking installed version.\n\nFix: Update .goreleaser.yaml to properly inject version via ldflags.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-05T15:30:53Z","created_by":"Damian Reeves","updated_at":"2026-01-05T15:54:41Z","closed_at":"2026-01-05T15:54:41Z"}
{"id":"morphir-6oi","title":"Port Module IR to Go","description":"Port Morphir.IR.Module from Elm to Go stable IR.\n\n## Overview\nModule contains module-level definitions including types and values.\n\n## Upstream references\n- src/Morphir/IR/Module.elm\n- src/Morphir/IR/Module/Codec.elm\n\n## Subtasks\n- [ ] Create module.go with Module types (Specification, Definition)\n- [ ] Implement ModuleSpecification and ModuleDefinition\n- [ ] Add JSON codec with v1/v2/v3 support\n- [ ] Add tests","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-02T08:45:21Z","created_by":"damian","updated_at":"2026-01-05T17:29:23Z","closed_at":"2026-01-02T09:13:02Z","close_reason":"Module IR ported to Go with full JSON codec support (v1/v2/v3). Includes ModuleSpecification, ModuleDefinition, Documented, and ValueSpecification types."}
{"id":"morphir-6pk","title":"Phase 1: Toolchain Foundation","description":"Implement foundational types and infrastructure for the Toolchain Integration Framework.\n\n**GitHub Issue:** https://github.com/finos/morphir/issues/493\n\n## Scope\n- Core types: Toolchain, Target, Task, Workflow\n- Configuration loading for toolchains\n- Basic task execution (path backend)\n- Output directory structure (.morphir/out/)\n\n## Acceptance Criteria\n- Can define a toolchain in morphir.toml with tasks\n- Can execute a simple task that runs an external command\n- Task outputs are written to .morphir/out/ with correct structure\n- Unit tests for all core types","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-08T07:03:33Z","created_by":"damian","updated_at":"2026-01-08T16:25:01Z","closed_at":"2026-01-08T16:25:01Z","close_reason":"Completed - GitHub #493 closed, PR #518 merged"}
{"id":"morphir-6ps","title":"Remove GoReleaser configuration","description":"Delete .goreleaser.yaml and any GoReleaser-related configuration.\n\nThe release workflow will be replaced with Rust-focused tooling (cargo-dist or similar).","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-29T18:27:52Z","created_by":"damian","updated_at":"2026-01-29T18:32:32Z","closed_at":"2026-01-29T18:32:32Z","close_reason":"Closed"}
{"id":"morphir-72u","title":"Sync GitHub Actions workflows with just recipes","description":"Our GitHub Actions CI workflows are not using our just recipes, which makes it harder to test CI locally. We should refactor the workflows to use just commands so that:\n\n1. Developers can run `just ci-check` locally and get the same results as CI\n2. There's a single source of truth for build/test/lint commands\n3. Workflow maintenance is simplified - changes to build logic only need to happen in the Justfile\n\n## Current State\n- CI workflows define their own commands inline\n- `Justfile` has `ci-check`, `lint`, `test`, `fmt`, etc. recipes\n- The two are not always in sync\n\n## Desired State\n- CI workflows call `just` commands instead of inline scripts\n- Local `just ci-check` produces equivalent results to CI\n- All build logic lives in the Justfile\n\n## Tasks\n- [ ] Audit current CI workflow commands vs just recipes\n- [ ] Update CI workflows to use just recipes\n- [ ] Verify CI passes with the new approach\n- [ ] Document the change in README","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T11:43:58Z","created_by":"damian","updated_at":"2026-01-05T17:29:23Z","closed_at":"2026-01-02T18:08:13Z","close_reason":"Completed in PR #15 (e0de1e9). All GitHub Actions workflows now use just recipes (fmt-check, lint, test, build, verify). Removed duplicate ci-check scripts and ensured CI/local development use the same build logic."}
{"id":"morphir-764","title":"Create reusable TUI framework for interactive morphir commands","description":"Build a shared TUI framework that provides consistent interactive experiences across morphir commands.\n\n## Overview\nCreate a reusable TUI component in `cmd/morphir/internal/tui` that can be used by:\n- `morphir` (main interactive mode)\n- `morphir validate --tui`\n- Future commands like `morphir explore`, `morphir inspect`, etc.\n\n## Architecture\n```\ncmd/morphir/internal/tui/\n├── app.go           # Main TUI application shell\n├── layout.go        # Flexible layout manager (sidebar + main)\n├── components/\n│   ├── sidebar.go   # Collapsible sidebar with tree/list\n│   ├── viewer.go    # Markdown/content viewer with paging\n│   ├── statusbar.go # Bottom status/help bar\n│   └── searchbar.go # Search/filter input\n├── styles/\n│   └── theme.go     # Consistent lipgloss styling\n└── keymap/\n    └── vim.go       # Vim-style keybindings\n```\n\n## Core Components\n\n### AppShell\nMain application container that manages:\n- Layout (sidebar width, visibility)\n- Focus management between panels\n- Global keybindings (quit, help, toggle sidebar)\n- Resize handling\n\n### SidebarPanel\n- Tree view for hierarchical content\n- List view for flat content  \n- Collapsible (toggle with `b` or `Ctrl+b`)\n- Filterable\n\n### ViewerPanel\n- Glamour-rendered markdown\n- Viewport with vim navigation (j/k, gg/G, Ctrl+d/u)\n- Search within content (/)\n- Line numbers (optional)\n\n### StatusBar\n- Current mode indicator\n- Keybinding hints\n- File/position info\n\n## Usage Pattern\n```go\n// In validate command\napp := tui.NewApp(\n    tui.WithSidebar(fileList),\n    tui.WithViewer(markdownContent),\n    tui.WithTitle(\"Validation Report\"),\n)\nreturn app.Run()\n\n// In main morphir command\napp := tui.NewApp(\n    tui.WithSidebar(commandList),\n    tui.WithViewer(welcomeContent),\n    tui.WithTitle(\"Morphir\"),\n)\nreturn app.Run()\n```\n\n## Keybindings (Vim-style)\n| Key | Action |\n|-----|--------|\n| j/k | Scroll down/up |\n| h/l | Switch panels |\n| gg/G | Go to top/bottom |\n| Ctrl+d/u | Page down/up |\n| / | Search |\n| n/N | Next/prev search result |\n| b | Toggle sidebar |\n| q | Quit |\n| ? | Show help |\n\n## Libraries\n- `github.com/charmbracelet/bubbletea` - TUI framework\n- `github.com/charmbracelet/bubbles` - Components\n- `github.com/charmbracelet/glamour` - Markdown\n- `github.com/charmbracelet/lipgloss` - Styling\n\n## Blocked By\nNone - this is a foundational component\n\n## Blocks\n- morphir-tol (TUI validate command)","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-03T12:56:36Z","created_by":"damian","updated_at":"2026-01-05T17:29:23Z","closed_at":"2026-01-03T23:55:36Z"}
{"id":"morphir-77u","title":"Design type mapping configuration system for bindings","description":"Design and implement a shared type mapping configuration system for all Morphir bindings (WIT, Protocol Buffers, JSON Schema, etc.). The system should:\n\n- Define default type mappings in code\n- Allow configuration-based overrides/extensions\n- Support bidirectional mappings (external type ↔ Morphir IR)\n- Integrate with pipeline configuration (ADR-0002)\n- Be reusable across all binding implementations\n\nUse cases:\n- WIT bindings: map WIT types to/from Morphir IR\n- Protobuf bindings: map protobuf types to/from Morphir IR\n- JSON Schema bindings: map JSON types to/from Morphir IR\n- Pipeline integration: configure type mappings per pipeline stage\n\nThis is a foundational design that should be completed before implementing specific binding type mappings.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T11:08:53Z","created_by":"damian","updated_at":"2026-01-08T00:42:24Z","closed_at":"2026-01-08T00:42:24Z","close_reason":"Implemented type mapping configuration system with: pkg/bindings/typemap/ (core types, registry, builder, config), WIT defaults, config integration, and adapter registry support."}
{"id":"morphir-7lj","title":"Refactor validate command to use pipeline runner","description":"Wire cmd/morphir validate to build and run the validation pipeline, keeping stdout/stderr separation and --json output.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T07:25:37Z","created_by":"damian","updated_at":"2026-01-07T23:47:32Z","closed_at":"2026-01-07T23:47:32Z","close_reason":"Implemented in PR #485"}
{"id":"morphir-814","title":"Update mise tasks for Rust","description":"Update .config/mise/ to remove Go tasks and add Rust equivalents:\n\nRemove Go tasks:\n- fmt/fmt-check (go fmt)\n- lint (golangci-lint)\n- test (go test)\n- build (go build)\n- workspace:* tasks\n- release:clean-replace\n- verify:modules\n\nAdd/Update Rust tasks:\n- fmt/fmt-check (cargo fmt)\n- lint (cargo clippy)\n- test (cargo test)\n- build (cargo build)\n- release tasks\n\nKeep:\n- docs/* tasks (Python-based)\n- Website tasks if any\n- General tooling","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-29T18:28:06Z","created_by":"damian","updated_at":"2026-01-29T18:35:06Z","closed_at":"2026-01-29T18:35:06Z","close_reason":"Closed"}
{"id":"morphir-83b","title":"Migrate task runner from just to mise","description":"Switch repo task runner from Justfile/just to mise scripts. Update CI workflows, docs, and scripts, ensure mise is used for tasks and latest mise in CI.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T23:33:32Z","created_by":"damian","updated_at":"2026-01-05T23:33:48Z","closed_at":"2026-01-05T23:33:48Z","close_reason":"Completed"}
{"id":"morphir-86i","title":"Attach decorations to IR nodes","description":"Design and implement mechanism to attach decorations to IR nodes (types, values, modules). Use FQName-based mapping. Ensure decorations are accessible via IR node accessors. Maintain immutability - decorations should not mutate IR nodes.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T09:02:03Z","created_by":"Damian Reeves","updated_at":"2026-01-12T21:57:26Z","closed_at":"2026-01-12T21:57:26Z","close_reason":"Closed"}
{"id":"morphir-871","title":"Implement 'morphir project list' subcommand","description":"Implement a CLI subcommand to list workspace projects.\n\nCommand: morphir project list\n\nOptions:\n- --json [properties...]: Output as JSON. Optionally accepts a comma-separated list of property names to include (e.g., --json name,path,version). If no properties specified, returns all properties.\n- Standard formatting/output options\n\nBehavior:\n- List all member projects in the current workspace\n- Show project name, path, config format (toml/json), module prefix, exposed modules count\n- Support filtering and sorting options\n- JSON output should respect the property list for selective field output","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-02T21:00:57Z","created_by":"damian","updated_at":"2026-01-05T17:29:23Z","closed_at":"2026-01-02T21:31:05Z","close_reason":"Implemented morphir project list subcommand with table and JSON output"}
{"id":"morphir-8fx","title":"Define VFS error types","description":"Add typed errors for not found, not a folder, and invalid path to improve diagnostics from VFS operations.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-05T17:26:49Z","created_by":"damian","updated_at":"2026-01-05T17:29:23Z"}
{"id":"morphir-8wy","title":"Set up BDD testing framework with godog","description":"Set up comprehensive BDD test suite using godog to verify morphir-go IR implementation against real-world morphir IR examples from finos/morphir-elm and finos/morphir-dotnet.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-02T09:53:01Z","created_by":"damian","updated_at":"2026-01-05T17:29:23Z","closed_at":"2026-01-02T10:24:58Z","close_reason":"BDD testing framework complete: 7 scenarios passing with godog, embedded fixtures, V1/V3 format coverage"}
{"id":"morphir-9cs","title":"Define JSON output schema for pipeline results","description":"Specify and document the JSON shape for PipelineResult (steps, diagnostics, artifacts, timing) and add encoding helpers to support --json CLI output.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-05T07:25:24Z","created_by":"damian","updated_at":"2026-01-05T17:29:23Z"}
{"id":"morphir-9j6","title":"Add JSON context extraction to validation reports","description":"Improve validation reports by extracting and displaying meaningful context around error locations.\n\nCurrent state:\n- Report shows JSON path like '/distribution/3/modules/0/1/value'\n- User has to manually navigate the IR file to understand the issue\n\nDesired state:\n- Extract the actual JSON content at the error path\n- Display it in a formatted code block\n- Show surrounding context to help understand the structure\n- Make it easy to locate and fix the issue\n\nExample output:\n```json\n// At: /distribution/3/modules/0/1/value\n{\n  \"types\": [...],\n  \"values\": [\n    [\"someValue\", { ... problematic content ... }]\n  ]\n}\n```","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-03T12:15:22Z","created_by":"damian","updated_at":"2026-01-05T17:29:23Z","closed_at":"2026-01-03T12:28:43Z","close_reason":"Implemented JSON context extraction with: nested path parsing, context code blocks, human-readable IR element type descriptions (Module Name, Package Definition, etc)"}
{"id":"morphir-9ns","title":"Port Morphir.IR.SDK from morphir-elm to Go","description":"Port the Morphir.IR.SDK package specification from finos/morphir-elm to pkg/models/stable/ir/sdk/. This provides the IR (metadata) layer for the SDK, not the runtime implementations.\n\nThe IR.SDK contains type and value specifications (metadata) for all SDK modules.\n\nKey modules ported:\n- Core: Basics, List, Maybe, Result\n- String/Char: String, Char\n- Numeric: Int, Decimal, Number\n- Collections: Tuple, Dict, Set\n- Date/Time: LocalDate, LocalTime\n- Advanced: ResultList, Aggregate, Rule, StatefulApp\n- Specialized: UUID, Key, Regex\n\nAll 21 modules have been implemented with comprehensive tests (105 tests passing).","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-02T14:50:00Z","created_by":"damian","updated_at":"2026-01-05T17:29:23Z","closed_at":"2026-01-02T18:00:00Z","close_reason":"Completed all 21 IR.SDK module specifications with comprehensive test coverage"}
{"id":"morphir-9w5","title":"Implement decoration CRUD operations API","description":"Add API endpoints for decoration CRUD: GET decorations for a node, POST/PUT to update decoration values, DELETE to remove decorations. Support FQName-based node identification. Validate values against schemas on write operations.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-09T09:03:20Z","created_by":"Damian Reeves","updated_at":"2026-01-09T09:03:20Z"}
{"id":"morphir-9xv","title":"Implement decoration value query commands","description":"Add CLI commands for querying decoration values: list, get, search, stats","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T22:45:23Z","created_by":"Damian Reeves","updated_at":"2026-01-12T22:47:13Z","closed_at":"2026-01-12T22:47:13Z","close_reason":"Closed"}
{"id":"morphir-a64","title":"Wire schema validation to validate CLI command","description":"Integrate the embedded schema validation into the validate CLI command so users can validate Morphir IR files against the schemas.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T22:13:00Z","created_by":"damian","updated_at":"2026-01-05T17:29:23Z","closed_at":"2026-01-02T23:12:59Z","close_reason":"Implemented schema validation in validate CLI command"}
{"id":"morphir-aks","title":"Update release workflow for Rust","description":"Rewrite .github/workflows/release.yml for Rust releases:\n\nOptions to consider:\n1. cargo-dist - Automated releases for Rust projects\n2. Manual workflow with cargo build --release\n\nMust support:\n- Multi-platform builds (linux/darwin/windows × amd64/arm64)\n- GitHub releases with binaries\n- Checksums\n\nFor morphir-live (Dioxus WASM app), consider:\n- dx build --release for WASM output\n- GitHub Pages or similar deployment","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-29T18:28:04Z","created_by":"damian","updated_at":"2026-01-29T18:34:24Z","closed_at":"2026-01-29T18:34:24Z","close_reason":"Closed"}
{"id":"morphir-arf","title":"Update Workspace type to track members","description":"Extend the Workspace struct to hold discovered members:\n- Add Members() []Project method\n- Add MemberByName(name string) (Project, bool) lookup\n- Add MemberByPath(path string) (Project, bool) lookup\n- Update NewWorkspace factory to optionally accept members\n- Keep backward compatibility with single-project workspaces","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T20:03:00Z","created_by":"damian","updated_at":"2026-01-05T17:29:23Z","closed_at":"2026-01-02T20:41:02Z","close_reason":"Implemented via LoadedWorkspace type which wraps Workspace and adds Members(), MemberByName(), MemberByPath(), AllProjects() methods"}
{"id":"morphir-bax","title":"Create pkg/logging module with zerolog wrapper","description":"Create new pkg/logging Go module containing:\n\nFiles to create:\n- pkg/logging/go.mod (new module: github.com/finos/morphir/pkg/logging)\n- pkg/logging/doc.go - Package documentation\n- pkg/logging/logger.go - Core Logger type wrapping zerolog.Logger\n- pkg/logging/options.go - Functional options (WithLevel, WithFormat, WithFile, etc.)\n- pkg/logging/writer.go - Multi-writer setup (stderr + file)\n- pkg/logging/levels.go - Level parsing (trace, debug, info, warn, error)\n- pkg/logging/logger_test.go - Unit tests\n\nKey features:\n- Logger struct wrapping zerolog.Logger\n- Functional options pattern for configuration\n- Console writer (colored) for text format\n- JSON writer for structured logging\n- Multi-writer support (stderr + file simultaneously)\n- File output to .morphir/logs/ when relative path provided\n- Noop() function for disabled logger\n\nCLI Change (preparatory):\n- Remove -v short flag from --version in cmd/morphir/cmd/root.go\n- This frees up -v for --verbose in Release B\n\nThis module is standalone with no dependencies on other Morphir modules.\nMust be released and tagged before it can be imported by other modules.\n\nTarget: v0.4.0-alpha.3","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T12:10:32Z","created_by":"damian","updated_at":"2026-01-13T14:55:23Z","closed_at":"2026-01-13T14:55:23Z","close_reason":"Completed in v0.4.0-alpha.3 release"}
{"id":"morphir-bco","title":"Add CLI 'tasks' subcommand to list configured tasks","description":"Add a 'morphir tasks' (or 'morphir task list') CLI subcommand that lists all tasks defined in morphir.toml.\n\nFeatures:\n- List tasks in table format (default) or JSON (--json flag)\n- Filter by project when in a workspace with multiple projects (--project flag)\n- Show task kind (intrinsic/command), dependencies, pre/post hooks\n- Mirror the pattern established by 'morphir project list'\n\nThe infrastructure is ready in pkg/config (TasksSection) and pkg/task (executor). This command wires it up to the CLI.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T22:28:43Z","created_by":"damian","updated_at":"2026-01-07T23:47:39Z","closed_at":"2026-01-07T23:47:39Z","close_reason":"Implemented in PR #482"}
{"id":"morphir-bdn","title":"Implement direct task reference syntax","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T20:02:41Z","created_by":"damian","updated_at":"2026-01-13T09:56:26Z","closed_at":"2026-01-12T21:45:40Z"}
{"id":"morphir-bex","title":"Remove Go source code directories","description":"Delete the following directories:\n- cmd/morphir/ (356KB) - Main CLI application\n- pkg/ (3.4MB) - All 16 Go packages\n- tests/bdd/ - Go BDD test framework\n\nThese are the core Go source code that has migrated to finos/morphir-go.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-29T18:27:49Z","created_by":"damian","updated_at":"2026-01-29T18:32:03Z","closed_at":"2026-01-29T18:32:03Z","close_reason":"Closed"}
{"id":"morphir-biw","title":"Add WASI WIT package test fixtures","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T19:11:16Z","created_by":"damian","updated_at":"2026-01-06T19:18:05Z","closed_at":"2026-01-06T19:18:05Z","close_reason":"Created WASI clocks WIT test fixture with wall-clock and monotonic-clock interfaces. Added WITFixtures embed.FS and documentation."}
{"id":"morphir-bm9","title":"Update target resolution to run all enabled matching tasks","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T20:02:39Z","created_by":"damian","updated_at":"2026-01-13T09:56:26Z","closed_at":"2026-01-12T21:45:40Z"}
{"id":"morphir-bq3","title":"Golang backend: IR -\u003e Go module/workspace","description":"Deliver the Morphir Golang backend and pipeline integration per docs/golang-backend-requirements.md.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-08T09:16:01Z","created_by":"damian","updated_at":"2026-01-09T04:16:54Z","closed_at":"2026-01-09T04:16:54Z","close_reason":"All subtasks completed. Golang backend MVP is delivered with IR-\u003eGo generation, pipeline integration, CLI commands, tests, and toolchain adapter.","external_ref":"gh-503"}
{"id":"morphir-bq3.1","title":"Scaffold golang binding module and package layout","description":"Create pkg/bindings/golang module (go.mod/go.sum), base packages, and doc stubs aligned with WIT binding patterns.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-08T09:16:01Z","created_by":"damian","updated_at":"2026-01-08T16:24:49Z","closed_at":"2026-01-08T16:24:49Z","close_reason":"Completed - GitHub issues #504 and #505 closed, PRs #511 and #515 merged","external_ref":"gh-504"}
{"id":"morphir-bq3.2","title":"Implement IR -\u003e Go module/workspace generator (gen step)","description":"Generate Go files, go.mod, and optional go.work from Morphir IR; include deterministic layout and diagnostics.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-08T09:16:02Z","created_by":"damian","updated_at":"2026-01-08T16:24:49Z","closed_at":"2026-01-08T16:24:49Z","close_reason":"Completed - GitHub issues #504 and #505 closed, PRs #511 and #515 merged","external_ref":"gh-505"}
{"id":"morphir-bq3.3","title":"Add golang make/build pipeline steps","description":"Add make/gen/build steps mirroring WIT pipeline patterns; wire diagnostics and JSON output shaping.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T09:16:02Z","created_by":"damian","updated_at":"2026-01-08T18:22:26Z","closed_at":"2026-01-08T18:22:26Z","close_reason":"PR #520 merged - golang make/build CLI commands with JSONL batch support","external_ref":"gh-506"}
{"id":"morphir-bq3.4","title":"Expose morphir golang CLI commands","description":"Add morphir golang make/gen/build commands and integrate with pipeline steps.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T09:16:02Z","created_by":"damian","updated_at":"2026-01-08T19:27:33Z","closed_at":"2026-01-08T19:27:33Z","close_reason":"CLI commands (make/gen/build) implemented in PR #520","external_ref":"gh-507"}
{"id":"morphir-bq3.5","title":"Add tests and example fixtures for golang backend","description":"BDD or unit tests covering module/workspace output; add example project fixtures if needed.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T09:16:03Z","created_by":"damian","updated_at":"2026-01-08T20:54:55Z","closed_at":"2026-01-08T20:54:55Z","close_reason":"Tests and fixtures added in PR #524","external_ref":"gh-508"}
{"id":"morphir-bq3.6","title":"Align golang backend with upcoming make/build/gen integration changes","description":"Track follow-on adjustments once the pipeline integration redesign is ready.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-08T09:16:03Z","created_by":"damian","updated_at":"2026-01-09T04:15:55Z","closed_at":"2026-01-09T04:15:55Z","close_reason":"Implemented Go toolchain adapter in PR #529. Golang backend now integrates with the make/build/gen toolchain framework following the WIT pattern.","external_ref":"gh-509"}
{"id":"morphir-bri","title":"Create platform-specific install scripts (no Go required)","description":"Create installation scripts that download pre-built binaries from GitHub releases without requiring Go to be installed.\n\nRequirements:\n- Support Linux, macOS, and Windows\n- Default to latest release if no version specified\n- Allow installing specific version: `install.sh v0.3.2`\n- Download appropriate binary for platform/architecture\n- Install to standard location (e.g., /usr/local/bin, ~/.local/bin)\n- Verify checksums for security\n- No Go installation required\n\nScripts needed:\n- install.sh (Linux/macOS)\n- install.ps1 (Windows PowerShell)\n\nBenefits:\n- Easier onboarding for users without Go\n- Faster installation (no compilation)\n- Consistent with other CLI tools\n- Works in restricted environments where go install is blocked","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-05T15:31:24Z","created_by":"Damian Reeves","updated_at":"2026-01-05T15:55:50Z","closed_at":"2026-01-05T15:55:50Z"}
{"id":"morphir-bw8","title":"Implement workspace member loading and resolution","description":"Implement the full member loading pipeline:\n- Resolve glob patterns from workspace config\n- Load each member's config (morphir.toml or morphir.json)\n- Apply workspace-level defaults to members\n- Build dependency graph between members (future)\n- Handle circular dependency detection (future)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T20:03:00Z","created_by":"damian","updated_at":"2026-01-05T17:29:23Z","closed_at":"2026-01-02T20:40:46Z","close_reason":"Implementation complete with LoadedWorkspace, Project types, and example documentation"}
{"id":"morphir-bxw","title":"Implement decoration queries and accessors","description":"Add methods to query decorations on IR nodes. Support getting all decorations for a node, getting specific decoration by ID, and checking if a node has decorations. Follow functional patterns with defensive copies.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T09:02:14Z","created_by":"Damian Reeves","updated_at":"2026-01-12T21:57:25Z","closed_at":"2026-01-12T21:57:25Z","close_reason":"Closed"}
{"id":"morphir-c1z","title":"Improve release script CI wait logic with polling","description":"The release script checks CI status but doesn't actively wait for completion. If CI is still running, the script shows a warning but may proceed or stop depending on user input.\n\nEnhancement: Add polling loop with timeout to automatically wait for CI to complete before proceeding with release.\n\nBenefits:\n- Reduces manual intervention needed\n- Prevents releases when CI is failing\n- Provides better user experience\n\nImplementation:\n- Poll `gh run list --branch=main --limit=1` every 30 seconds\n- Timeout after 10 minutes\n- Show progress indicators","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T15:31:09Z","created_by":"Damian Reeves","updated_at":"2026-01-05T15:55:08Z","closed_at":"2026-01-05T15:55:08Z"}
{"id":"morphir-cja","title":"Implement WASI package parsing BDD step definitions","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T19:11:23Z","created_by":"damian","updated_at":"2026-01-06T21:38:21Z","closed_at":"2026-01-06T21:38:21Z","close_reason":"Implemented WASI package parsing BDD step definitions and public ParseWIT API"}
{"id":"morphir-ckf","title":"Extract test fixtures from morphir-elm for decorations","description":"Extract decoration-related test fixtures from the morphir-elm codebase. Look for example decoration schemas (IR files), decoration value files (JSON), and integration tests. Adapt these fixtures for Go testing. Place fixtures in tests/bdd/testdata/decorations/ directory. Reference: finos/morphir-elm repository.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T09:20:45Z","created_by":"Damian Reeves","updated_at":"2026-01-12T22:47:27Z","closed_at":"2026-01-12T22:47:27Z","close_reason":"Closed"}
{"id":"morphir-cq6","title":"Integrate pkg/logging into CLI and pipeline","description":"Add pkg/logging dependency and wire up logging throughout the codebase.\n\nPrerequisites:\n- pkg/logging module must be released and tagged (v0.4.0-alpha.3)\n\nCLI Integration (cmd/morphir/cmd/root.go):\n- Add global flags: --log-level, --verbose (-V), --quiet (-q), --log-file\n- Add initLogging() function called via cobra.OnInitialize\n- Expose GetLogger() for commands to access logger\n- Set zerolog as standard library logger\n\nPipeline Integration (pkg/pipeline/):\n- Add Logger field to Context struct in types.go\n- Add WithLogger() method for context enrichment\n- Update pipeline execution to log step start/completion\n\nCommand Updates:\n- validate.go - Log IR path, validation results\n- golang.go - Log generation progress  \n- wit.go - Log conversion progress\n- Other commands as patterns establish\n\nConfiguration already exists:\n- LoggingSection in pkg/config with Level(), Format(), File()\n- Environment: MORPHIR_LOGGING_LEVEL, MORPHIR_LOGGING_FORMAT, MORPHIR_LOGGING_FILE\n\nTarget: v0.4.0-alpha.4 or later","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T12:10:43Z","created_by":"damian","updated_at":"2026-01-13T16:54:50Z","closed_at":"2026-01-13T16:54:50Z","close_reason":"v0.4.0-alpha.4 released with logging CLI integration"}
{"id":"morphir-cut","title":"Integration tests for morphir-elm gen variants","description":"Extend the morphir-elm integration test coverage to include code generation (gen) with different output variants.\n\n**GitHub Issue:** https://github.com/finos/morphir/issues/536\n\n## Scope\n- Test morphir-elm gen -t Scala\n- Test morphir-elm gen -t JsonSchema\n- Test morphir-elm gen -t TypeScript\n- Add BDD scenarios for each variant\n- Validate output files are generated correctly","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-12T16:12:44Z","created_by":"damian","updated_at":"2026-01-12T16:12:58Z"}
{"id":"morphir-cvg","title":"Add morphir.json parser for morphir-elm compatibility","description":"Implement parser for the classic morphir.json format from finos/morphir-elm:\n{\n  \"name\": \"My.Package\",\n  \"sourceDirectory\": \"src\",\n  \"exposedModules\": [\"Foo\", \"Bar\"]\n}\n- Parse and validate JSON structure\n- Map to internal Project representation\n- Auto-detect morphir.json vs morphir.toml in workspace member directories","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T20:02:59Z","created_by":"damian","updated_at":"2026-01-05T17:29:23Z","closed_at":"2026-01-02T20:30:19Z","close_reason":"Implementation complete with tests passing"}
{"id":"morphir-cyn","title":"IR JSON Serialization: Configurable emission strategies","description":"Add foundational JSON/JSONL serialization support to pkg/models/ir with configurable emission strategies.\n\n## Background\nCurrently IR types use unexported fields, requiring ad-hoc serialization in CLI code. JSON serialization should be a first-class capability in the models package.\n\n## Requirements\n\n### Configurable Emission Strategies\nSupport different JSON emission modes via configurable MarshalJSON:\n\n1. **Full Distribution** (traditional)\n   - Emit entire Morphir IR as single JSON document\n   - Compatible with existing morphir-elm tooling\n\n2. **JSONL Split Emission** (streaming/batch)\n   - Emit modules/types/values as separate JSON lines\n   - Enables streaming processing of large IRs\n   - Better for incremental/parallel processing\n\n3. **Package Emission**\n   - Emit with package context/metadata\n   - Include package namespace, name, version\n\n4. **Distribution Metadata**\n   - Emit distribution info (version, etc.) as own JSON line\n   - Support header/footer metadata lines in JSONL mode\n\n### Implementation Approach\n- Add MarshalJSON methods to IR types (ModuleDefinition, Type, Value, etc.)\n- Create EmitOptions/EmitConfig for controlling emission strategy\n- Support both pretty JSON and compact JSONL\n- Maintain compatibility with Morphir IR JSON schema\n\n### Types to Add JSON Support\n- ModuleDefinition[TA, VA]\n- ModuleDefinitionType[TA]\n- ModuleDefinitionValue[TA, VA]\n- TypeDefinition variants\n- ValueDefinition\n- Type variants (TypeReference, TypeRecord, etc.)\n- Name, FQName, Path\n\n## Acceptance Criteria\n- [ ] json.Marshal(module) works without ad-hoc conversion\n- [ ] Support full distribution emission\n- [ ] Support JSONL split emission\n- [ ] Support metadata lines in JSONL\n- [ ] Round-trip: Unmarshal matches original\n- [ ] Tests for all emission strategies","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-08T06:02:05Z","created_by":"damian","updated_at":"2026-01-08T06:02:05Z"}
{"id":"morphir-czo","title":"Implement native functions registry for SDK","description":"Create the native functions registry that maps SDK functions to implementations.\n\nThis provides the runtime mapping from IR function references to actual Go implementations.\n\nKey items:\n- NativeFunction type for function implementations\n- NativeFunctionRegistry with Register/Lookup/Has/Count methods\n- FQName-based lookup with string conversion\n- Support for custom type parameters (TA, VA)\n- Integration with SDK module specs\n- Comprehensive tests (8 tests passing)\n\nThe registry connects IR specifications with future runtime implementations.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T15:10:00Z","created_by":"damian","updated_at":"2026-01-05T17:29:23Z","closed_at":"2026-01-02T18:30:00Z","close_reason":"Implemented native functions registry with comprehensive tests. Registry provides type-safe mapping from FQNames to native function implementations."}
{"id":"morphir-d3g","title":"Remove outdated morphir-elm subtree folder","description":"Remove the morphir-elm/ folder from the repository root.\n\n## Problem\nThe morphir-elm folder is an outdated git subtree of finos/morphir-elm that:\n- Causes Renovate to flag vulnerability issues in outdated npm dependencies\n- Contains stale Elm code (v2.89.0) that is not used by the Go implementation\n- Adds 16MB of unnecessary files to the repository\n- Creates confusion about which code is authoritative\n\n## Solution\n1. Remove the morphir-elm/ directory entirely\n2. Update any references to morphir-elm code to point to the canonical finos/morphir-elm repository\n3. Verify tests/bdd/testdata/morphir-elm is intentional test data (separate from subtree)\n\n## Notes\n- The IR.SDK port (morphir-9ns) is complete - we have Go implementations\n- Any remaining references should use the canonical morphir-elm repo","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T18:51:39Z","created_by":"damian","updated_at":"2026-01-05T18:55:19Z","closed_at":"2026-01-05T18:55:19Z","close_reason":"Removed 557 files (308K lines) of stale morphir-elm subtree code"}
{"id":"morphir-daq","title":"Copy morphir IR spec from morphir-dotnet","description":"Copy the morphir IR specification file from the finos/morphir-dotnet repository into this repo. This spec will be used for documentation, agent instructions, and design decisions.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T22:12:59Z","created_by":"damian","updated_at":"2026-01-05T17:29:23Z","closed_at":"2026-01-02T22:59:02Z","close_reason":"Copied IR spec and schemas from morphir-dotnet to docs/spec/"}
{"id":"morphir-dmi","title":"Validate decoration values against schemas","description":"Implement validation of decoration values against their decoration schemas. Load decoration IR, find entry point type, and validate values conform to that type. Return clear validation errors with FQName context.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T09:01:42Z","created_by":"Damian Reeves","updated_at":"2026-01-12T21:13:20Z","closed_at":"2026-01-12T21:13:20Z","close_reason":"Closed"}
{"id":"morphir-dpa","title":"Add BDD tests for workspace members","description":"Write comprehensive BDD/Gherkin tests:\n- Scenario: discover members from glob patterns\n- Scenario: load morphir.json member project\n- Scenario: load morphir.toml member project  \n- Scenario: workspace with mixed member config formats\n- Scenario: member inherits workspace defaults\n- Scenario: invalid member config error handling","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T20:03:01Z","created_by":"damian","updated_at":"2026-01-05T17:29:23Z","closed_at":"2026-01-02T21:00:22Z","close_reason":"Implemented comprehensive BDD tests with 18 scenarios covering: glob patterns, direct paths, mixed patterns, recursive globs, TOML-only/JSON-only filters, brace expansion, exclude patterns, morphir.json compatibility, root project, virtual workspace, member lookup, multiple patterns, config accessibility, priority handling, error handling, character class patterns, single char wildcard, and hidden config support."}
{"id":"morphir-ec0","title":"Define VEntry and virtual filesystem (VFS) core types","description":"Implement VEntry interface and core entry types (file, folder, document, node, archive) with metadata; add VFS mounts with precedence, shadowing, and RO/RW zones.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T07:25:08Z","created_by":"damian","updated_at":"2026-02-03T18:42:15Z","closed_at":"2026-01-07T04:01:30Z"}
{"id":"morphir-ei7","title":"Document new Go module checklist","description":"From v0.4.0-alpha.3 retrospective: When adding a new Go module to the monorepo, multiple files need updates:\n\n1. go.work (local, for development)\n2. .goreleaser.yaml (go mod tidy -C pkg/newmodule)\n3. .config/mise/tasks/lint.ts (modules array)\n\nThe release:tags script auto-detects modules, but other tools don't. Document this in DEVELOPING.md or create automation to handle it.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-13T14:57:26Z","created_by":"damian","updated_at":"2026-01-13T15:04:02Z","closed_at":"2026-01-13T15:04:02Z","close_reason":"Addressed in PR #554"}
{"id":"morphir-elm","title":"Implement validation pipeline step using VEntry/VFS","description":"Create a pipeline step that locates IR from VEntry/VFS inputs and validates via pkg/tooling/validation, emitting diagnostics and artifacts for reports.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T07:25:29Z","created_by":"damian","updated_at":"2026-01-07T23:47:32Z","closed_at":"2026-01-07T23:47:32Z","close_reason":"Implemented in PR #485"}
{"id":"morphir-euo","title":"Create tests/bdd module structure","description":"Create new tests/bdd module with go.mod, directory structure, and add to go.work","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-02T09:53:09Z","created_by":"damian","updated_at":"2026-01-05T17:29:23Z","closed_at":"2026-01-02T10:24:31Z","close_reason":"Created tests/bdd module with go.mod, directory structure, added to go.work"}
{"id":"morphir-f38","title":"Port Distribution IR to Go","description":"Port Morphir.IR.Distribution from Elm to Go stable IR.\n\n## Overview\nDistribution is the top-level container for a Morphir IR, containing the complete package with all modules and types.\n\n## Upstream references\n- src/Morphir/IR/Distribution.elm\n- src/Morphir/IR/Distribution/Codec.elm (v2/v3)\n- src/Morphir/IR/Distribution/CodecV1.elm (v1)\n\n## Dependencies\nThis epic depends on:\n- Value IR (completed)\n- Pattern IR (completed)\n- Type IR (completed)\n- Module IR (needed)\n- Package IR (needed)\n\n## Subtasks\n- [ ] Port Module IR (Morphir.IR.Module)\n- [ ] Port Package IR (Morphir.IR.Package) \n- [ ] Port Distribution IR (Morphir.IR.Distribution)\n- [ ] Add JSON codecs for each with v1/v2/v3 support\n- [ ] Add comprehensive tests","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-02T08:43:28Z","created_by":"damian","updated_at":"2026-01-05T17:29:23Z","closed_at":"2026-01-02T09:36:06Z","close_reason":"All Distribution IR components ported: Module IR, Package IR, and Distribution IR with full JSON codec support."}
{"id":"morphir-for","title":"Add integration tests for decoration CLI commands","description":"Create integration tests for decoration commands: setup, validate, type registry, and query commands","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-12T23:07:16Z","created_by":"Damian Reeves","updated_at":"2026-01-12T23:07:16Z"}
{"id":"morphir-gdf","title":"Add VPath helper methods","description":"Provide helpers like IsAbs, Base, Dir, and Rel to simplify path manipulation and normalization.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-05T17:26:43Z","created_by":"damian","updated_at":"2026-01-07T01:38:33Z","closed_at":"2026-01-07T01:38:33Z","close_reason":"Implemented comprehensive VPath helper methods in PR #469"}
{"id":"morphir-ght","title":"Update example morphir.toml with workspace members","description":"Update examples/morphir.toml to document workspace member configuration:\n- Add commented [workspace.members] example\n- Add example [project] section\n- Document member discovery behavior\n- Show example directory structure in comments","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-02T20:03:01Z","created_by":"damian","updated_at":"2026-01-05T17:29:23Z","closed_at":"2026-01-02T20:40:46Z","close_reason":"Implementation complete with LoadedWorkspace, Project types, and example documentation"}
{"id":"morphir-go-0ij","title":"Implement type/value/pattern BDD features","description":"Create feature files and step definitions for type, value, and pattern IR","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-02T09:53:10Z","created_by":"damian","updated_at":"2026-01-02T10:24:58Z","closed_at":"2026-01-02T10:24:58Z","close_reason":"Implemented type decode feature file with V1/V3 Unit, Variable, Record scenarios"}
{"id":"morphir-go-0w4","title":"Implement distribution BDD features","description":"Create distribution decode/roundtrip feature files and step definitions","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-02T09:53:09Z","created_by":"damian","updated_at":"2026-01-02T10:24:46Z","closed_at":"2026-01-02T10:24:46Z","close_reason":"Implemented distribution decode feature file with V1/V3 scenarios and step definitions"}
{"id":"morphir-go-1e2","title":"Workspace Members Support (like Cargo/npm workspaces)","description":"Implement support for workspace members in Morphir configuration, similar to Cargo, npm, or yarn workspaces. A morphir workspace can consist of multiple member projects in subdirectories, declared via globs. Member projects should have a [project] section for project-specific details. Also support classic morphir.json format from finos/morphir-elm for compatibility.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-02T20:02:11Z","created_by":"damian","updated_at":"2026-01-02T21:00:29Z","closed_at":"2026-01-02T21:00:29Z","close_reason":"All subtasks completed. Implemented workspace member support with: morphir.json parser, glob-based discovery with doublestar, ProjectSection config, member loading/resolution, LoadedWorkspace type, and comprehensive BDD tests (18 scenarios). Supports direct paths, globs, recursive patterns, extension filtering (.toml, .json, .{toml,json}), exclude patterns, and morphir-elm compatibility."}
{"id":"morphir-go-1e2.1","title":"Design workspace member configuration schema","description":"Design the TOML schema for declaring workspace members. Include:\n- [workspace.members] array with glob patterns (e.g., 'packages/*', 'libs/**')\n- [project] section for member projects with name, version, exposedModules\n- Consider exclude patterns for ignoring directories\n- Document relationship between workspace root config and member configs","design":"# Workspace Members Configuration Schema\n\n## Overview\n\nThis design follows patterns from Cargo and npm workspaces, adapted for Morphir's needs.\n\n## 1. Workspace Root Configuration (morphir.toml)\n\n```toml\n[morphir]\nversion = \"^3.0.0\"\n\n[workspace]\n# Existing fields\nroot = \"\"\noutput_dir = \".morphir\"\n\n# NEW: Member discovery via glob patterns\nmembers = [\n    \"packages/*\",           # All direct subdirs of packages/\n    \"libs/**\",              # Recursive: all subdirs under libs/\n    \"apps/*/frontend\",      # Nested pattern\n]\n\n# NEW: Exclude specific paths from member discovery\nexclude = [\n    \"packages/deprecated\",\n    \"**/testdata\",\n]\n\n# NEW: Default member to use when none specified (optional)\ndefault_member = \"packages/core\"\n\n# NEW: Shared configuration inherited by all members\n[workspace.defaults]\nsource_directory = \"src\"\n```\n\n## 2. Project Section (for member projects)\n\nMember projects use a `[project]` section in their morphir.toml:\n\n```toml\n# packages/core/morphir.toml\n\n[project]\n# Required: Project name - flexible format\n# Can be any valid identifier: \"my-project\", \"MyProject\", \"Morphir.Core\"\nname = \"morphir-core\"\n\n# Optional: Package version (can inherit from workspace)\nversion = \"1.0.0\"\n\n# Required: Directory containing source files (relative to project root)\nsource_directory = \"src\"\n\n# Required: Modules exposed in the public API\nexposed_modules = [\n    \"Types\",\n    \"SDK\",\n    \"IR\",\n]\n\n# Optional: Module prefix for Elm-style qualified names\n# If not set, derived from name or inferred from source structure\n# Use this for morphir-elm compatibility or explicit module namespacing\nmodule_prefix = \"Morphir.Core\"\n\n# Optional: Dependencies on other workspace members\n# dependencies = [\"morphir-sdk\"]\n```\n\n### Field Descriptions\n\n| Field | Type | Required | Description |\n|-------|------|----------|-------------|\n| `name` | string | Yes | Project identifier (flexible: kebab-case, PascalCase, dot-separated, etc.) |\n| `version` | string | No | Semantic version, can use `workspace = true` to inherit |\n| `source_directory` | string | Yes | Source code location relative to project root |\n| `exposed_modules` | []string | Yes | Public modules (without module_prefix) |\n| `module_prefix` | string | No | Elm-style module prefix for qualified names (defaults to name if valid, otherwise derived) |\n\n### Name vs Module Prefix\n\n- **name**: Project identifier used for references, dependencies, and tooling. Flexible format.\n- **module_prefix**: Elm-style dotted prefix for module qualification. Used when generating IR or for morphir-elm compatibility.\n\nExamples:\n```toml\n# Modern style - explicit separation\nname = \"my-awesome-lib\"\nmodule_prefix = \"MyAwesome.Lib\"\n\n# Elm-compatible style - name doubles as prefix\nname = \"Morphir.SDK\"\n# module_prefix defaults to \"Morphir.SDK\" (valid Elm module name)\n\n# Simple project - auto-derived prefix\nname = \"utils\"\n# module_prefix defaults to \"Utils\" (PascalCase conversion)\n```\n\n## 3. morphir.json Compatibility (finos/morphir-elm)\n\nThe classic morphir.json format is automatically detected and mapped:\n\n```json\n{\n    \"name\": \"My.Package\",\n    \"sourceDirectory\": \"src\",\n    \"exposedModules\": [\"Foo\", \"Bar\"]\n}\n```\n\n### Mapping to [project] Section\n\n| morphir.json | morphir.toml [project] |\n|--------------|------------------------|\n| `name` | `name` AND `module_prefix` (same value, since morphir.json names are always Elm-style) |\n| `sourceDirectory` | `source_directory` |\n| `exposedModules` | `exposed_modules` |\n\n### Detection Priority\n\n1. `morphir.toml` (preferred)\n2. `.morphir/morphir.toml`  \n3. `morphir.json` (legacy compatibility)\n\n## 4. Workspace Types\n\n### Virtual Workspace (no root project)\n\n```toml\n# Root morphir.toml - workspace only, no project\n[workspace]\nmembers = [\"packages/*\"]\n```\n\n### Root Package Workspace (workspace + project)\n\n```toml\n# Root morphir.toml - both workspace and project\n[workspace]\nmembers = [\"libs/*\"]\n\n[project]\nname = \"my-app\"\nmodule_prefix = \"MyApp\"\nsource_directory = \"src\"\nexposed_modules = [\"Main\"]\n```\n\n## 5. Directory Structure Examples\n\n### Multi-package Workspace\n\n```\nmy-workspace/\n├── morphir.toml              # [workspace] with members\n├── packages/\n│   ├── core/\n│   │   ├── morphir.toml      # [project] section\n│   │   └── src/\n│   ├── sdk/\n│   │   ├── morphir.toml\n│   │   └── src/\n│   └── deprecated/           # Excluded\n│       └── morphir.toml\n└── libs/\n    └── utils/\n        ├── morphir.json      # Legacy format supported\n        └── src/\n```\n\n### Hybrid with Root Project\n\n```\nmy-app/\n├── morphir.toml              # [workspace] + [project]\n├── src/                      # Root project sources\n└── libs/\n    ├── internal/\n    │   └── morphir.toml\n    └── shared/\n        └── morphir.json\n```\n\n## 6. Glob Pattern Specification\n\nPatterns follow Go's `filepath.Match` plus `**` for recursive matching:\n\n| Pattern | Matches |\n|---------|---------|\n| `*` | Any single path segment |\n| `**` | Zero or more path segments (recursive) |\n| `?` | Any single character |\n| `[abc]` | Character class |\n\nExamples:\n- `packages/*` → `packages/foo`, `packages/bar` (not `packages/foo/bar`)\n- `libs/**` → `libs/a`, `libs/a/b`, `libs/a/b/c`\n- `apps/*/frontend` → `apps/web/frontend`, `apps/mobile/frontend`\n\n## 7. Module Prefix Derivation\n\nWhen `module_prefix` is not explicitly set:\n\n1. If `name` is a valid Elm module name (PascalCase, dot-separated), use it directly\n2. Otherwise, convert `name` to PascalCase:\n   - `my-project` → `MyProject`\n   - `foo_bar` → `FooBar`\n   - `utils` → `Utils`\n\nThis ensures backward compatibility with morphir-elm while allowing modern naming conventions.\n\n## 8. Config Resolution\n\nWhen loading a workspace:\n\n1. Find workspace root (walk up looking for morphir.toml with [workspace])\n2. Resolve member globs against workspace root\n3. Apply exclude patterns\n4. For each matched directory:\n   a. Look for morphir.toml with [project]\n   b. Fall back to .morphir/morphir.toml\n   c. Fall back to morphir.json\n5. Derive module_prefix if not set\n6. Merge workspace.defaults into each project\n7. Return Workspace with resolved []Project\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T20:02:59Z","created_by":"damian","updated_at":"2026-01-02T20:14:54Z","closed_at":"2026-01-02T20:10:17Z","close_reason":"Schema design complete with workspace members, project section, and morphir.json compatibility mapping"}
{"id":"morphir-go-1e2.2","title":"Add morphir.json parser for morphir-elm compatibility","description":"Implement parser for the classic morphir.json format from finos/morphir-elm:\n{\n  \"name\": \"My.Package\",\n  \"sourceDirectory\": \"src\",\n  \"exposedModules\": [\"Foo\", \"Bar\"]\n}\n- Parse and validate JSON structure\n- Map to internal Project representation\n- Auto-detect morphir.json vs morphir.toml in workspace member directories","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T20:02:59Z","created_by":"damian","updated_at":"2026-01-02T20:30:19Z","closed_at":"2026-01-02T20:30:19Z","close_reason":"Implementation complete with tests passing"}
{"id":"morphir-go-1e2.3","title":"Implement glob-based member discovery","description":"Implement glob pattern matching for discovering workspace members:\n- Support patterns like 'packages/*', 'libs/**', 'apps/*/frontend'\n- Handle exclude patterns (e.g., '!**/node_modules')\n- Recursively find morphir.toml or morphir.json in matched directories\n- Return ordered list of discovered member paths","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T20:02:59Z","created_by":"damian","updated_at":"2026-01-02T20:30:19Z","closed_at":"2026-01-02T20:30:19Z","close_reason":"Implementation complete with tests passing"}
{"id":"morphir-go-1e2.4","title":"Add Project type and ProjectSection to config","description":"Extend the config package to support project-level configuration:\n- Add ProjectSection struct with name, version, sourceDirectory, exposedModules\n- Add Project type representing a workspace member\n- Update WorkspaceSection to include members []string (glob patterns)\n- Ensure immutability patterns are followed (getters, defensive copies)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T20:03:00Z","created_by":"damian","updated_at":"2026-01-02T20:30:19Z","closed_at":"2026-01-02T20:30:19Z","close_reason":"Implementation complete with tests passing"}
{"id":"morphir-go-1e2.5","title":"Implement workspace member loading and resolution","description":"Implement the full member loading pipeline:\n- Resolve glob patterns from workspace config\n- Load each member's config (morphir.toml or morphir.json)\n- Apply workspace-level defaults to members\n- Build dependency graph between members (future)\n- Handle circular dependency detection (future)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T20:03:00Z","created_by":"damian","updated_at":"2026-01-02T20:40:46Z","closed_at":"2026-01-02T20:40:46Z","close_reason":"Implementation complete with LoadedWorkspace, Project types, and example documentation"}
{"id":"morphir-go-1e2.6","title":"Update Workspace type to track members","description":"Extend the Workspace struct to hold discovered members:\n- Add Members() []Project method\n- Add MemberByName(name string) (Project, bool) lookup\n- Add MemberByPath(path string) (Project, bool) lookup\n- Update NewWorkspace factory to optionally accept members\n- Keep backward compatibility with single-project workspaces","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T20:03:00Z","created_by":"damian","updated_at":"2026-01-02T20:41:02Z","closed_at":"2026-01-02T20:41:02Z","close_reason":"Implemented via LoadedWorkspace type which wraps Workspace and adds Members(), MemberByName(), MemberByPath(), AllProjects() methods"}
{"id":"morphir-go-1e2.7","title":"Add BDD tests for workspace members","description":"Write comprehensive BDD/Gherkin tests:\n- Scenario: discover members from glob patterns\n- Scenario: load morphir.json member project\n- Scenario: load morphir.toml member project  \n- Scenario: workspace with mixed member config formats\n- Scenario: member inherits workspace defaults\n- Scenario: invalid member config error handling","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T20:03:01Z","created_by":"damian","updated_at":"2026-01-02T21:00:22Z","closed_at":"2026-01-02T21:00:22Z","close_reason":"Implemented comprehensive BDD tests with 18 scenarios covering: glob patterns, direct paths, mixed patterns, recursive globs, TOML-only/JSON-only filters, brace expansion, exclude patterns, morphir.json compatibility, root project, virtual workspace, member lookup, multiple patterns, config accessibility, priority handling, error handling, character class patterns, single char wildcard, and hidden config support."}
{"id":"morphir-go-1e2.8","title":"Update example morphir.toml with workspace members","description":"Update examples/morphir.toml to document workspace member configuration:\n- Add commented [workspace.members] example\n- Add example [project] section\n- Document member discovery behavior\n- Show example directory structure in comments","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-02T20:03:01Z","created_by":"damian","updated_at":"2026-01-02T20:40:46Z","closed_at":"2026-01-02T20:40:46Z","close_reason":"Implementation complete with LoadedWorkspace, Project types, and example documentation"}
{"id":"morphir-go-1ir","title":"Port Value IR model to Go","description":"Port Morphir.IR.Value.Value from Elm to Go stable IR.\n\n## Overview\nImplement the Value IR model in pkg/models/stable/ir/value.go following existing patterns from Type and Pattern.\n\n## Value variants to implement\n- Literal, Constructor, Tuple, List, Record, Variable, Reference, Field, FieldFunction\n- Apply, Lambda, LetDefinition, LetRecursion, Destructure, IfThenElse, PatternMatch, UpdateRecord, Unit\n\n## Upstream references\n- src/Morphir/IR/Value.elm\n- src/Morphir/IR/Value/Codec.elm (v2/v3)\n- src/Morphir/IR/Value/CodecV1.elm (v1)\n\n## Subtasks\n- [ ] Create value.go with Value[TA, VA] interface and all variant structs\n- [ ] Implement constructors for each variant\n- [ ] Add structural equality helper (EqualValue)\n- [ ] Add attribute mapping helper (MapValueAttributes)\n- [ ] Create value.go JSON codec (EncodeValue/DecodeValue)\n- [ ] Support v1 snake_case and v2/v3 PascalCase tags\n- [ ] Add roundtrip tests for v3\n- [ ] Add tag assertion tests (v1 vs v3)\n- [ ] Add wrong-version decode rejection tests","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-02T08:13:25Z","created_by":"damian","updated_at":"2026-01-02T08:34:39Z","closed_at":"2026-01-02T08:34:39Z","close_reason":"Completed implementation of Value IR model and JSON codec with full test coverage"}
{"id":"morphir-go-1v7","title":"Port Package IR to Go","description":"Port Morphir.IR.Package from Elm to Go stable IR.\n\n## Overview\nPackage represents a collection of modules with dependencies.\n\n## Upstream references\n- src/Morphir/IR/Package.elm\n- src/Morphir/IR/Package/Codec.elm\n\n## Subtasks\n- [ ] Create package.go with Package types (Specification, Definition)\n- [ ] Implement PackageSpecification and PackageDefinition\n- [ ] Add JSON codec with v1/v2/v3 support\n- [ ] Add tests","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-02T08:45:21Z","created_by":"damian","updated_at":"2026-01-02T09:26:28Z","closed_at":"2026-01-02T09:26:28Z","close_reason":"Package IR ported to Go with full JSON codec support (v1/v2/v3). Includes PackageSpecification and PackageDefinition types."}
{"id":"morphir-go-331","title":"Create main SDK package registry","description":"Create the main SDK package that aggregates all module specifications.\n\nThis is the central registry that brings together all SDK modules.\n\nKey items:\n- package.go file with PackageName() and PackageSpec() functions\n- Aggregates all module specs into a PackageSpecification\n- Package-level documentation\n- Tests for package structure\n\nAll 21 SDK modules (Basics, List, Maybe, Result, String, Char, Int, Decimal, Number, Tuple, Dict, Set, LocalDate, LocalTime, ResultList, Aggregate, Rule, StatefulApp, UUID, Key, Regex) are included.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T15:10:00Z","created_by":"damian","updated_at":"2026-01-02T18:00:00Z","closed_at":"2026-01-02T18:00:00Z","close_reason":"Completed SDK package registry implementation with all 21 modules and comprehensive tests"}
{"id":"morphir-go-4rm","title":"Port Morphir.SDK runtime implementations from morphir-elm to Go","description":"Port the Morphir.SDK runtime implementations from finos/morphir-elm to pkg/sdk/. This is the actual runtime implementation layer (separate from IR.SDK which contains IR specifications). The SDK provides concrete implementations of standard library functions and types.\n\nKey modules to implement:\n- Core: Basics, Int, String, Char\n- Collections: List, Dict, Set, Tuple  \n- Optional/Result: Maybe, Result, ResultList\n- Date/Time: LocalDate, LocalTime, Instant\n- Specialized: Decimal, UUID, Key, Regex, Number\n- Advanced: Aggregate, Rule, StatefulApp\n\nStructure:\n- Each module provides Go implementations of SDK functions\n- Runtime evaluation and execution support\n- Integration with native functions registry\n- Proper Go idiomatic patterns while maintaining Morphir semantics\n\nDependencies:\n- Requires Morphir.IR.SDK (morphir-go-nfr) to be completed first\n- Builds on top of the IR model in pkg/models/stable/ir/","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-02T14:55:00Z","created_by":"damian","updated_at":"2026-01-02T14:55:00Z"}
{"id":"morphir-go-4wm","title":"Port Distribution IR to Go","description":"Port Morphir.IR.Distribution from Elm to Go stable IR.\n\n## Overview\nDistribution is the top-level IR container with the full package and dependencies.\n\n## Upstream references\n- src/Morphir/IR/Distribution.elm\n- src/Morphir/IR/Distribution/Codec.elm\n\n## Subtasks\n- [ ] Create distribution.go with Distribution type\n- [ ] Add JSON codec with v1/v2/v3 support\n- [ ] Add tests\n- [ ] Integration test with real morphir-ir.json files","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-02T08:45:21Z","created_by":"damian","updated_at":"2026-01-02T09:31:44Z","closed_at":"2026-01-02T09:31:44Z","close_reason":"Distribution IR ported to Go with Library variant and full JSON codec support (v1/v2/v3)."}
{"id":"morphir-go-5pg","title":"Add morphir spec and json schemas","description":"The finos/morphir-dotnet project contains a copy of the morphir ir spec and 3 morphir json schemas (in YAML format) that are useful for validating conformance to Morphir. We need to bring the spec and schema into this repo so we can incorporate it both into our tooling and in our docs (including coding agent instructions) so that it is easily referenceable and so we can make design decisions in the future about extensions.\n\nWe are also gonna want to embed the schemas in models package so that we can perform schema validation (we'll want to wire that schema validation up to the validate cli command)","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-02T22:12:00Z","created_by":"damian","updated_at":"2026-01-02T23:13:12Z","closed_at":"2026-01-02T23:13:12Z","close_reason":"All subtasks completed: spec and schemas copied, schemas embedded in models package, validate CLI command implemented"}
{"id":"morphir-go-5w8","title":"Implement 'morphir project list' subcommand","description":"Implement a CLI subcommand to list workspace projects.\n\nCommand: morphir project list\n\nOptions:\n- --json [properties...]: Output as JSON. Optionally accepts a comma-separated list of property names to include (e.g., --json name,path,version). If no properties specified, returns all properties.\n- Standard formatting/output options\n\nBehavior:\n- List all member projects in the current workspace\n- Show project name, path, config format (toml/json), module prefix, exposed modules count\n- Support filtering and sorting options\n- JSON output should respect the property list for selective field output","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-02T21:00:57Z","created_by":"damian","updated_at":"2026-01-02T21:31:05Z","closed_at":"2026-01-02T21:31:05Z","close_reason":"Implemented morphir project list subcommand with table and JSON output"}
{"id":"morphir-go-6oi","title":"Port Module IR to Go","description":"Port Morphir.IR.Module from Elm to Go stable IR.\n\n## Overview\nModule contains module-level definitions including types and values.\n\n## Upstream references\n- src/Morphir/IR/Module.elm\n- src/Morphir/IR/Module/Codec.elm\n\n## Subtasks\n- [ ] Create module.go with Module types (Specification, Definition)\n- [ ] Implement ModuleSpecification and ModuleDefinition\n- [ ] Add JSON codec with v1/v2/v3 support\n- [ ] Add tests","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-02T08:45:21Z","created_by":"damian","updated_at":"2026-01-02T09:13:02Z","closed_at":"2026-01-02T09:13:02Z","close_reason":"Module IR ported to Go with full JSON codec support (v1/v2/v3). Includes ModuleSpecification, ModuleDefinition, Documented, and ValueSpecification types."}
{"id":"morphir-go-72u","title":"Sync GitHub Actions workflows with just recipes","description":"Our GitHub Actions CI workflows are not using our just recipes, which makes it harder to test CI locally. We should refactor the workflows to use just commands so that:\n\n1. Developers can run `just ci-check` locally and get the same results as CI\n2. There's a single source of truth for build/test/lint commands\n3. Workflow maintenance is simplified - changes to build logic only need to happen in the Justfile\n\n## Current State\n- CI workflows define their own commands inline\n- `Justfile` has `ci-check`, `lint`, `test`, `fmt`, etc. recipes\n- The two are not always in sync\n\n## Desired State\n- CI workflows call `just` commands instead of inline scripts\n- Local `just ci-check` produces equivalent results to CI\n- All build logic lives in the Justfile\n\n## Tasks\n- [ ] Audit current CI workflow commands vs just recipes\n- [ ] Update CI workflows to use just recipes\n- [ ] Verify CI passes with the new approach\n- [ ] Document the change in README","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T11:43:58Z","created_by":"damian","updated_at":"2026-01-02T18:08:13Z","closed_at":"2026-01-02T18:08:13Z","close_reason":"Completed in PR #15 (e0de1e9). All GitHub Actions workflows now use just recipes (fmt-check, lint, test, build, verify). Removed duplicate ci-check scripts and ensured CI/local development use the same build logic."}
{"id":"morphir-go-764","title":"Create reusable TUI framework for interactive morphir commands","description":"Build a shared TUI framework that provides consistent interactive experiences across morphir commands.\n\n## Overview\nCreate a reusable TUI component in `cmd/morphir/internal/tui` that can be used by:\n- `morphir` (main interactive mode)\n- `morphir validate --tui`\n- Future commands like `morphir explore`, `morphir inspect`, etc.\n\n## Architecture\n```\ncmd/morphir/internal/tui/\n├── app.go           # Main TUI application shell\n├── layout.go        # Flexible layout manager (sidebar + main)\n├── components/\n│   ├── sidebar.go   # Collapsible sidebar with tree/list\n│   ├── viewer.go    # Markdown/content viewer with paging\n│   ├── statusbar.go # Bottom status/help bar\n│   └── searchbar.go # Search/filter input\n├── styles/\n│   └── theme.go     # Consistent lipgloss styling\n└── keymap/\n    └── vim.go       # Vim-style keybindings\n```\n\n## Core Components\n\n### AppShell\nMain application container that manages:\n- Layout (sidebar width, visibility)\n- Focus management between panels\n- Global keybindings (quit, help, toggle sidebar)\n- Resize handling\n\n### SidebarPanel\n- Tree view for hierarchical content\n- List view for flat content  \n- Collapsible (toggle with `b` or `Ctrl+b`)\n- Filterable\n\n### ViewerPanel\n- Glamour-rendered markdown\n- Viewport with vim navigation (j/k, gg/G, Ctrl+d/u)\n- Search within content (/)\n- Line numbers (optional)\n\n### StatusBar\n- Current mode indicator\n- Keybinding hints\n- File/position info\n\n## Usage Pattern\n```go\n// In validate command\napp := tui.NewApp(\n    tui.WithSidebar(fileList),\n    tui.WithViewer(markdownContent),\n    tui.WithTitle(\"Validation Report\"),\n)\nreturn app.Run()\n\n// In main morphir command\napp := tui.NewApp(\n    tui.WithSidebar(commandList),\n    tui.WithViewer(welcomeContent),\n    tui.WithTitle(\"Morphir\"),\n)\nreturn app.Run()\n```\n\n## Keybindings (Vim-style)\n| Key | Action |\n|-----|--------|\n| j/k | Scroll down/up |\n| h/l | Switch panels |\n| gg/G | Go to top/bottom |\n| Ctrl+d/u | Page down/up |\n| / | Search |\n| n/N | Next/prev search result |\n| b | Toggle sidebar |\n| q | Quit |\n| ? | Show help |\n\n## Libraries\n- `github.com/charmbracelet/bubbletea` - TUI framework\n- `github.com/charmbracelet/bubbles` - Components\n- `github.com/charmbracelet/glamour` - Markdown\n- `github.com/charmbracelet/lipgloss` - Styling\n\n## Blocked By\nNone - this is a foundational component\n\n## Blocks\n- morphir-go-tol (TUI validate command)","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-03T12:56:36Z","created_by":"damian","updated_at":"2026-01-03T23:55:36Z","closed_at":"2026-01-03T23:55:36Z","close_reason":"Completed TUI framework implementation with all required components and demo application"}
{"id":"morphir-go-765","title":"Define VEntry and virtual filesystem (VFS) core types","description":"Implement VEntry interface and core entry types (file, folder, document, node, archive) with metadata; add VFS mounts with precedence, shadowing, and RO/RW zones.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T07:25:08Z","created_by":"damian","updated_at":"2026-01-06T13:44:55Z","closed_at":"2026-01-06T13:44:55Z"}
{"id":"morphir-go-766","title":"Define pipeline core types and composition helpers","description":"Implement core pipeline types (Context with VFS, Step, Pipeline, PipelineResult) and composition helpers per docs/processing-pipeline-design.md. Ensure sequential execution, short-circuiting, and structured results.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T07:25:13Z","created_by":"damian","updated_at":"2026-01-06T14:29:51Z","closed_at":"2026-01-06T14:29:51Z"}
{"id":"morphir-go-767","title":"Define diagnostics and artifact modeling for pipeline results","description":"Design and implement Diagnostic and Artifact types with severity, code, message, location, and metadata fields; ensure they serialize in pipeline JSON outputs and work for analyzer-style reporting.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-05T07:25:18Z","created_by":"damian","updated_at":"2026-01-05T07:25:18Z"}
{"id":"morphir-go-768","title":"Define JSON output schema for pipeline results","description":"Specify and document the JSON shape for PipelineResult (steps, diagnostics, artifacts, timing) and add encoding helpers to support --json CLI output.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-05T07:25:24Z","created_by":"damian","updated_at":"2026-01-05T07:25:24Z"}
{"id":"morphir-go-769","title":"Implement validation pipeline step using VEntry/VFS","description":"Create a pipeline step that locates IR from VEntry/VFS inputs and validates via pkg/tooling/validation, emitting diagnostics and artifacts for reports.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-05T07:25:29Z","created_by":"damian","updated_at":"2026-01-05T07:25:29Z"}
{"id":"morphir-go-770","title":"Refactor validate command to use pipeline runner","description":"Wire cmd/morphir validate to build and run the validation pipeline, keeping stdout/stderr separation and --json output.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-05T07:25:37Z","created_by":"damian","updated_at":"2026-01-05T07:25:37Z"}
{"id":"morphir-go-771","title":"Add pipeline unit tests for composition and error handling","description":"Create tests covering step ordering, diagnostics aggregation, and short-circuit behavior for pipeline execution.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-05T07:25:40Z","created_by":"damian","updated_at":"2026-01-05T07:25:40Z"}
{"id":"morphir-go-772","title":"Define task/target execution engine","description":"Implement tasks (including build/test/clean conventions) that can run intrinsic actions and external commands, configured via morphir.toml.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-05T07:25:45Z","created_by":"damian","updated_at":"2026-01-06T19:10:14Z"}
{"id":"morphir-go-773","title":"Add analyzer framework for diagnostics","description":"Provide analyzer-style steps that inspect inputs/IR/config and emit diagnostics without mutating core outputs.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-05T07:25:51Z","created_by":"damian","updated_at":"2026-01-05T07:25:51Z"}
{"id":"morphir-go-774","title":"Add caching and incremental build support","description":"Design and implement caching/incremental build hooks as a post-MVP (v1) capability, including cache keys and invalidation rules.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-05T07:25:55Z","created_by":"damian","updated_at":"2026-01-05T07:25:55Z"}
{"id":"morphir-go-775","title":"Add Morphir IR visitor framework","description":"Design and implement IR visitors to support pretty printing, encoding/decoding, and other traversals, inspired by upickle/visitor patterns.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-05T07:25:59Z","created_by":"damian","updated_at":"2026-01-05T07:25:59Z"}
{"id":"morphir-go-8wy","title":"Set up BDD testing framework with godog","description":"Set up comprehensive BDD test suite using godog to verify morphir-go IR implementation against real-world morphir IR examples from finos/morphir-elm and finos/morphir-dotnet.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-02T09:53:01Z","created_by":"damian","updated_at":"2026-01-02T10:24:58Z","closed_at":"2026-01-02T10:24:58Z","close_reason":"BDD testing framework complete: 7 scenarios passing with godog, embedded fixtures, V1/V3 format coverage"}
{"id":"morphir-go-9j6","title":"Add JSON context extraction to validation reports","description":"Improve validation reports by extracting and displaying meaningful context around error locations.\n\nCurrent state:\n- Report shows JSON path like '/distribution/3/modules/0/1/value'\n- User has to manually navigate the IR file to understand the issue\n\nDesired state:\n- Extract the actual JSON content at the error path\n- Display it in a formatted code block\n- Show surrounding context to help understand the structure\n- Make it easy to locate and fix the issue\n\nExample output:\n```json\n// At: /distribution/3/modules/0/1/value\n{\n  \"types\": [...],\n  \"values\": [\n    [\"someValue\", { ... problematic content ... }]\n  ]\n}\n```","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-03T12:15:22Z","created_by":"damian","updated_at":"2026-01-03T12:28:43Z","closed_at":"2026-01-03T12:28:43Z","close_reason":"Implemented JSON context extraction with: nested path parsing, context code blocks, human-readable IR element type descriptions (Module Name, Package Definition, etc)"}
{"id":"morphir-go-a64","title":"Wire schema validation to validate CLI command","description":"Integrate the embedded schema validation into the validate CLI command so users can validate Morphir IR files against the schemas.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T22:13:00Z","created_by":"damian","updated_at":"2026-01-02T23:12:59Z","closed_at":"2026-01-02T23:12:59Z","close_reason":"Implemented schema validation in validate CLI command"}
{"id":"morphir-go-c3r","title":"Render markdown output with glamour for beautiful terminal display","description":"Enhance the existing markdown report output by rendering it beautifully in the terminal, similar to Charmbracelet's Glow CLI.\n\n## Reference\n- Glow CLI: https://github.com/charmbracelet/glow\n- Glamour library (used by Glow): https://github.com/charmbracelet/glamour\n\n## Current State\n- `morphir validate --report markdown` outputs raw markdown text\n- Users must pipe to external tools like `glow` or `bat` for nice rendering\n\n## Desired State\n- Automatically render markdown with glamour (the library Glow uses) when outputting to a terminal (TTY)\n- Fall back to raw markdown when piped or redirected to a file\n- Support `--no-color` flag to disable styling\n- Achieve Glow-like beautiful rendering inline\n\n## Implementation\n```go\nimport \"github.com/charmbracelet/glamour\"\n\nfunc renderMarkdown(content string) string {\n    if \\!isTerminal(os.Stdout) {\n        return content // Raw markdown for pipes/files\n    }\n    \n    renderer, _ := glamour.NewTermRenderer(\n        glamour.WithAutoStyle(),\n        glamour.WithWordWrap(terminalWidth()),\n    )\n    out, _ := renderer.Render(content)\n    return out\n}\n```\n\n## Features\n- Auto-detect terminal vs pipe output\n- Respect `NO_COLOR` environment variable\n- Word wrap to terminal width\n- Syntax highlighting for JSON code blocks (like Glow does)\n- Styled tables, headers, and emphasis\n\n## Example\n```bash\n# Beautiful Glow-like rendered output in terminal\nmorphir validate ./ir.json --report markdown\n\n# Raw markdown when piped\nmorphir validate ./ir.json --report markdown \u003e report.md\nmorphir validate ./ir.json --report markdown | less\n```\n\n## Libraries\n- `github.com/charmbracelet/glamour` - Markdown rendering (same library Glow uses)\n- `github.com/charmbracelet/lipgloss` - Styling\n- `github.com/mattn/go-isatty` - TTY detection","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-03T12:56:16Z","created_by":"damian","updated_at":"2026-01-04T00:17:55Z","closed_at":"2026-01-04T00:17:55Z","close_reason":"Completed glamour markdown rendering with TTY detection, NO_COLOR support, and comprehensive tests"}
{"id":"morphir-go-daq","title":"Copy morphir IR spec from morphir-dotnet","description":"Copy the morphir IR specification file from the finos/morphir-dotnet repository into this repo. This spec will be used for documentation, agent instructions, and design decisions.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T22:12:59Z","created_by":"damian","updated_at":"2026-01-02T22:59:02Z","closed_at":"2026-01-02T22:59:02Z","close_reason":"Copied IR spec and schemas from morphir-dotnet to docs/spec/"}
{"id":"morphir-go-euo","title":"Create tests/bdd module structure","description":"Create new tests/bdd module with go.mod, directory structure, and add to go.work","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-02T09:53:09Z","created_by":"damian","updated_at":"2026-01-02T10:24:31Z","closed_at":"2026-01-02T10:24:31Z","close_reason":"Created tests/bdd module with go.mod, directory structure, added to go.work"}
{"id":"morphir-go-f38","title":"Port Distribution IR to Go","description":"Port Morphir.IR.Distribution from Elm to Go stable IR.\n\n## Overview\nDistribution is the top-level container for a Morphir IR, containing the complete package with all modules and types.\n\n## Upstream references\n- src/Morphir/IR/Distribution.elm\n- src/Morphir/IR/Distribution/Codec.elm (v2/v3)\n- src/Morphir/IR/Distribution/CodecV1.elm (v1)\n\n## Dependencies\nThis epic depends on:\n- Value IR (completed)\n- Pattern IR (completed)\n- Type IR (completed)\n- Module IR (needed)\n- Package IR (needed)\n\n## Subtasks\n- [ ] Port Module IR (Morphir.IR.Module)\n- [ ] Port Package IR (Morphir.IR.Package) \n- [ ] Port Distribution IR (Morphir.IR.Distribution)\n- [ ] Add JSON codecs for each with v1/v2/v3 support\n- [ ] Add comprehensive tests","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-02T08:43:28Z","created_by":"damian","updated_at":"2026-01-02T09:36:06Z","closed_at":"2026-01-02T09:36:06Z","close_reason":"All Distribution IR components ported: Module IR, Package IR, and Distribution IR with full JSON codec support."}
{"id":"morphir-go-i18","title":"Add validation report generation with --report flag","description":"Add a --report flag to the validate command that generates a detailed markdown report explaining validation issues. The report should provide context to help users understand and fix validation errors.\n\nRequirements:\n- Add --report flag to validate command\n- Default report format is markdown\n- Report code should live in pkg/tooling for reusability\n- Report should explain schema validation errors in user-friendly terms\n- Support for additional report formats can be added later","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-03T12:02:35Z","created_by":"damian","updated_at":"2026-01-03T12:11:48Z","closed_at":"2026-01-03T12:11:48Z","close_reason":"Implemented --report flag with markdown report generation. Report includes validation summary, error analysis with issue categories, detailed errors with suggestions, and recommendations."}
{"id":"morphir-go-mc1","title":"Copy morphir JSON schemas from morphir-dotnet","description":"Copy the 3 morphir JSON schemas (in YAML format) from the finos/morphir-dotnet repository. These schemas are used for validating conformance to Morphir.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T22:13:00Z","created_by":"damian","updated_at":"2026-01-02T22:59:02Z","closed_at":"2026-01-02T22:59:02Z","close_reason":"Copied IR spec and schemas from morphir-dotnet to docs/spec/"}
{"id":"morphir-go-nfr","title":"Port Morphir.IR.SDK from morphir-elm to Go","description":"Port the Morphir.IR.SDK package specification from finos/morphir-elm to pkg/models/stable/ir/sdk/. This provides the IR (metadata) layer for the SDK, not the runtime implementations.\n\nThe IR.SDK contains type and value specifications (metadata) for all SDK modules.\n\nKey modules ported:\n- Core: Basics, List, Maybe, Result\n- String/Char: String, Char\n- Numeric: Int, Decimal, Number\n- Collections: Tuple, Dict, Set\n- Date/Time: LocalDate, LocalTime\n- Advanced: ResultList, Aggregate, Rule, StatefulApp\n- Specialized: UUID, Key, Regex\n\nAll 21 modules have been implemented with comprehensive tests (105 tests passing).","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-02T14:50:00Z","created_by":"damian","updated_at":"2026-01-02T18:00:00Z","closed_at":"2026-01-02T18:00:00Z","close_reason":"Completed all 21 IR.SDK module specifications with comprehensive test coverage"}
{"id":"morphir-go-pg0","title":"Implement godog test entry point and context","description":"Create bdd_test.go entry point, test context, and common step definitions","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-02T09:53:09Z","created_by":"damian","updated_at":"2026-01-02T10:24:45Z","closed_at":"2026-01-02T10:24:45Z","close_reason":"Created bdd_test.go entry point with godog.TestSuite, test context, and step definitions"}
{"id":"morphir-go-qg8","title":"Embed schemas in models package","description":"Embed the morphir JSON schemas in the models package using Go embed so they can be used for runtime schema validation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T22:13:00Z","created_by":"damian","updated_at":"2026-01-02T23:01:30Z","closed_at":"2026-01-02T23:01:30Z","close_reason":"Created ir/schema package with embedded v1/v2/v3 schemas"}
{"id":"morphir-go-rxe","title":"Add CLI integration tests using real IR fixtures","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T01:10:48Z","created_by":"damian","updated_at":"2026-01-03T11:41:52Z","closed_at":"2026-01-03T11:41:52Z","close_reason":"CLI integration tests added for validate command. Tests pass with base-ir.json fixture."}
{"id":"morphir-go-tol","title":"Add TUI validate command with interactive markdown viewer","description":"Create an interactive TUI version of the validate command using Charmbracelet libraries.\n\n## Overview\nAdd a `--tui` or `-i` flag to the validate command that launches an interactive terminal UI for exploring validation results.\n\n## UI Layout\n```\n┌─────────────────┬──────────────────────────────────────────┐\n│ Files           │ # Morphir IR Validation Report           │\n│ ────────────    │                                          │\n│ ▼ Validated     │ ❌ **Overall Status: ERRORS FOUND**      │\n│   ├ base.json ✓ │                                          │\n│   ├ list.json ✗ │ ## File: list.json                       │\n│   └ tree.json ✗ │                                          │\n│                 │ ### Error Analysis                       │\n│                 │ ...                                       │\n│                 │                                          │\n│                 │ [j/k: scroll] [q: quit] [/: search]      │\n└─────────────────┴──────────────────────────────────────────┘\n```\n\n## Features\n- **Sidebar**: Treeview file explorer showing validated IR files\n  - Flat tree for single files, expandable for multiple\n  - Status indicators (✓/✗) for each file\n  - Click/enter to select and view file's report\n- **Main Content**: Rendered markdown report\n  - Styled using glamour (Charmbracelet's markdown renderer)\n  - Pager-like scrolling behavior (less/bat style)\n  - Vim keybindings (j/k, gg/G, Ctrl+d/u, /)\n- **Search**: Filter/search within report content\n- **Keyboard navigation**: Full vim-style navigation\n\n## Libraries\n- `github.com/charmbracelet/bubbletea` - TUI framework\n- `github.com/charmbracelet/bubbles` - UI components (viewport, list)\n- `github.com/charmbracelet/glamour` - Markdown rendering\n- `github.com/charmbracelet/lipgloss` - Styling\n\n## Usage\n```bash\nmorphir validate ./path/to/ir --tui\nmorphir validate ./file1.json ./file2.json --tui\n```\n\n## Dependencies\n- Depends on: morphir-go-y4a (reusable TUI component)\n- Related: morphir-go-z3b (glow-style markdown output)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-03T12:56:01Z","created_by":"damian","updated_at":"2026-01-04T00:23:31Z","closed_at":"2026-01-04T00:23:31Z","close_reason":"Completed interactive TUI validate command with file explorer, markdown viewer, and vim-style navigation"}
{"id":"morphir-go-u53","title":"Implement native functions registry for SDK","description":"Create the native functions registry that maps SDK functions to implementations.\n\nThis provides the runtime mapping from IR function references to actual Go implementations.\n\nKey items:\n- NativeFunction type for function implementations\n- NativeFunctionRegistry with Register/Lookup/Has/Count methods\n- FQName-based lookup with string conversion\n- Support for custom type parameters (TA, VA)\n- Integration with SDK module specs\n- Comprehensive tests (8 tests passing)\n\nThe registry connects IR specifications with future runtime implementations.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T15:10:00Z","created_by":"damian","updated_at":"2026-01-02T18:30:00Z","closed_at":"2026-01-02T18:30:00Z","close_reason":"Implemented native functions registry with comprehensive tests. Registry provides type-safe mapping from FQNames to native function implementations."}
{"id":"morphir-go-vn8","title":"Create fixture fetching script","description":"Create script to fetch morphir IR fixtures from morphir-elm repository","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-02T09:53:09Z","created_by":"damian","updated_at":"2026-01-02T10:24:46Z","closed_at":"2026-01-02T10:24:46Z","close_reason":"Created fetch-fixtures.sh script that generates minimal V1/V3 fixtures and can fetch morphir-elm reference model"}
{"id":"morphir-go-x59","title":"Add error code appendix to validation reports","description":"Improve validation report readability by adding an appendix with indexed rule descriptions.\n\n## Current State\n- Validation errors repeat similar explanations for each occurrence\n- Users see the same suggestion text multiple times in long reports\n\n## Desired State\n- Assign error codes to each violation type (e.g., E001: Pattern mismatch, E002: oneOf failed)\n- Reference error codes inline in the Detailed Errors section\n- Add an Appendix section at the end with full descriptions for each error code used\n- Only include error codes that appear in the report (no unused codes)\n\n## Example Output\n```markdown\n### Detailed Errors\n\n**Path:** `/distribution/3/modules/0/0/1/2`\n**Issue:** [E001] '2052' does not match pattern...\n\n---\n\n## Appendix: Error Code Reference\n\n### E001: Pattern Mismatch\nEach name part must be either a lowercase word (starting with a letter) or a standalone number.\nThe Morphir IR schema requires identifiers to follow specific naming conventions.\n\n### E002: Type Variant Mismatch\nThe value doesn't match any of the expected type variants...\n```\n\n## Benefits\n- Reduces report verbosity\n- Easier to scan for specific error types\n- Consistent error documentation","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-03T12:41:58Z","created_by":"damian","updated_at":"2026-01-03T13:36:00Z","closed_at":"2026-01-03T13:36:00Z","close_reason":"Implemented error code appendix with inline codes and appendix section"}
{"id":"morphir-hvp","title":"Implement morphir decoration-validate command","description":"Create CLI command 'morphir decoration-validate' that validates all decoration values against their schemas. Report validation errors with FQName context. Support --json flag for machine-readable output. Exit with non-zero code on validation failures.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T09:02:47Z","created_by":"Damian Reeves","updated_at":"2026-01-12T22:08:08Z","closed_at":"2026-01-12T22:08:08Z","close_reason":"Closed"}
{"id":"morphir-i18","title":"Add validation report generation with --report flag","description":"Add a --report flag to the validate command that generates a detailed markdown report explaining validation issues. The report should provide context to help users understand and fix validation errors.\n\nRequirements:\n- Add --report flag to validate command\n- Default report format is markdown\n- Report code should live in pkg/tooling for reusability\n- Report should explain schema validation errors in user-friendly terms\n- Support for additional report formats can be added later","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-03T12:02:35Z","created_by":"damian","updated_at":"2026-01-05T17:29:23Z","closed_at":"2026-01-03T12:11:48Z","close_reason":"Implemented --report flag with markdown report generation. Report includes validation summary, error analysis with issue categories, detailed errors with suggestions, and recommendations."}
{"id":"morphir-jed","title":"Add WIT pipeline adapters","description":"Add frontend/backend adapters that plug WIT parsing/emission into Morphir processing pipelines.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T09:57:25Z","created_by":"damian","updated_at":"2026-01-08T01:51:59Z","closed_at":"2026-01-08T01:51:59Z","close_reason":"Implemented WIT pipeline adapters with make/gen/build steps, diagnostics, and round-trip validation"}
{"id":"morphir-k0i","title":"Update CI workflow for Rust","description":"Rewrite .github/workflows/ci.yml to focus on Rust:\n\nReplace:\n- golangci-lint → cargo clippy\n- go fmt → cargo fmt --check\n- go test → cargo test\n- go build → cargo build\n- Go workspace setup → Cargo workspace (already in place)\n\nKeep:\n- Multi-platform testing (ubuntu, macos, windows)\n- Code coverage (using cargo-llvm-cov or similar)\n\nAdd:\n- Rust toolchain setup\n- Cargo caching","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-29T18:27:53Z","created_by":"damian","updated_at":"2026-01-29T18:33:12Z","closed_at":"2026-01-29T18:33:12Z","close_reason":"Closed"}
{"id":"morphir-k7r","title":"Design workspace member configuration schema","description":"Design the TOML schema for declaring workspace members. Include:\n- [workspace.members] array with glob patterns (e.g., 'packages/*', 'libs/**')\n- [project] section for member projects with name, version, exposedModules\n- Consider exclude patterns for ignoring directories\n- Document relationship between workspace root config and member configs","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T20:02:59Z","created_by":"damian","updated_at":"2026-01-05T17:29:23Z","closed_at":"2026-01-02T20:10:17Z"}
{"id":"morphir-kes","title":"Create /server/attributes API endpoint","description":"Implement HTTP endpoint '/server/attributes' that exposes processed decoration configuration. Endpoint should return decoration configs with displayName, entryPoint, data, and IR. Match morphir-elm API contract for compatibility.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-09T09:03:08Z","created_by":"Damian Reeves","updated_at":"2026-01-09T09:03:08Z"}
{"id":"morphir-kf1","title":"Phase 3: Workflows \u0026 Planning","description":"Implement workflow orchestration and execution plan computation.\n\n**GitHub Issue:** https://github.com/finos/morphir/issues/495\n\n## Scope\n- Workflow definition and parsing\n- Execution plan computation\n- Plan validation and optimization\n- morphir plan command\n\n## Acceptance Criteria\n- Can define workflows with multiple stages in morphir.toml\n- morphir plan build shows clear execution plan\n- Invalid workflows produce helpful error messages\n- --explain shows dependency chain for any task","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T07:03:59Z","created_by":"damian","updated_at":"2026-01-12T23:38:46Z","closed_at":"2026-01-09T11:26:09Z"}
{"id":"morphir-l75","title":"Add caching and incremental build support","description":"Design and implement caching/incremental build hooks as a post-MVP (v1) capability, including cache keys and invalidation rules.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-05T07:25:55Z","created_by":"damian","updated_at":"2026-01-05T17:29:23Z"}
{"id":"morphir-lex","title":"Scaffold wasm-componentmodel Go module","description":"Set up pkg/bindings/wit module, add go.mod, go.work entry, and ensure scripts include the module.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T09:56:19Z","created_by":"damian","updated_at":"2026-01-06T11:22:57Z","closed_at":"2026-01-06T10:00:50Z","close_reason":"Scaffolding completed with new module, scripts, and go.work updates"}
{"id":"morphir-li1","title":"Define diagnostics and artifact modeling for pipeline results","description":"Design and implement Diagnostic and Artifact types with severity, code, message, location, and metadata fields; ensure they serialize in pipeline JSON outputs and work for analyzer-style reporting.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T07:25:18Z","created_by":"damian","updated_at":"2026-01-07T04:05:52Z","closed_at":"2026-01-07T04:05:52Z","close_reason":"Diagnostic and Artifact types fully implemented per design doc: Diagnostic has Severity, Code, Message, Location (Path/Line/Column), StepName. Artifact has Kind (ir/report/codegen/metadata), Path, ContentType, Content. Types serialize with standard encoding/json. Supports analyzer-style reporting via StepResult aggregation."}
{"id":"morphir-lnr","title":"Add zerolog structured logging to Morphir CLI","description":"Implement structured logging using zerolog with:\n- Configurable log level via config files, env vars, and CLI flags\n- stderr for logs, stdout for application output\n- Optional file logging to .morphir/logs/\n- Context-aware logging that propagates through tooling/pipeline\n\nSplit across releases:\n- Release A (v0.4.0-alpha.3): Create pkg/logging module\n- Release B (v0.4.0-alpha.4+): Integrate into CLI and pipeline","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-13T12:10:21Z","created_by":"damian","updated_at":"2026-01-13T12:10:21Z"}
{"id":"morphir-luz","title":"Improve validation performance for large Morphir IR JSON files","description":"The morphir validate command hangs indefinitely when processing large Morphir IR JSON files.\n\n## Problem\nValidation performance degrades dramatically with file size:\n- 99 byte minimal IR (base-ir.json): validates instantly ✓\n- 71KB test IR (expected-morphir-ir.json): hangs indefinitely (timeout after 10s)\n- 15MB production IR (docs/server/morphir-ir.json): hangs indefinitely\n\nThe issue occurs at compiledSchema.Validate(irData) in pkg/tooling/validation/validation.go:110, suggesting O(n²) or worse algorithmic complexity in the JSON schema validation library.\n\n## Impact\n- Users cannot validate real-world Morphir IR files\n- TUI feature (--tui flag) is untestable with actual production data\n- Blocks adoption of new interactive validation features\n- BDD tests only work with minimal fixtures\n\n## Test Cases\nWorking (instant):\n- morphir validate tests/bdd/testdata/morphir-elm/cli-test-ir/base-ir.json\n\nHanging:\n- morphir validate morphir-elm/tests-integration/cli/test-data/rentals/expected-morphir-ir.json\n- morphir validate docs/server/morphir-ir.json\n\n## Potential Solutions\n1. Profile validation to identify bottleneck\n2. Implement streaming/incremental JSON validation\n3. Add validation caching for repeated validations\n4. Evaluate alternative JSON schema validation libraries\n5. Add timeout with progress indicators\n6. Implement partial validation mode (structure only)\n7. Consider lazy validation strategies\n\n## Related\nDiscovered while testing TUI enhancements (line numbers, goto-line, auto-select)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-04T10:33:30Z","created_by":"Damian Reeves","updated_at":"2026-01-04T10:33:30Z"}
{"id":"morphir-mah","title":"Remove Go module files","description":"Delete all Go module-related files:\n- go.work (workspace file)\n- All go.mod files (16 modules)\n- All go.sum files\n- Any .go files outside the main directories","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-29T18:27:50Z","created_by":"damian","updated_at":"2026-01-29T18:32:24Z","closed_at":"2026-01-29T18:32:24Z","close_reason":"Closed"}
{"id":"morphir-mc1","title":"Copy morphir JSON schemas from morphir-dotnet","description":"Copy the 3 morphir JSON schemas (in YAML format) from the finos/morphir-dotnet repository. These schemas are used for validating conformance to Morphir.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T22:13:00Z","created_by":"damian","updated_at":"2026-01-05T17:29:23Z","closed_at":"2026-01-02T22:59:02Z","close_reason":"Copied IR spec and schemas from morphir-dotnet to docs/spec/"}
{"id":"morphir-mjw","title":"Morphir AssemblyScript Backend","description":"Create a Morphir backend that generates AssemblyScript code from Morphir IR.\n\n## Goals\n- Generate idiomatic AssemblyScript from Morphir IR\n- Support WebAssembly Component Model interop\n- Leverage AssemblyScript's TypeScript-like syntax for readability\n- Enable debugging and source maps\n\n## Rationale\nAssemblyScript provides a TypeScript-like developer experience while compiling to WebAssembly. This makes it an attractive target for:\n- Developers familiar with TypeScript\n- Debugging Wasm output (readable intermediate code)\n- Prototyping before optimizing with lower-level backends\n\n## Scope\n- Type mapping (Morphir types → AssemblyScript types)\n- Value expression codegen\n- Module structure generation\n- Component Model boundary handling\n- Runtime support library","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-17T18:20:00Z","created_by":"damian","updated_at":"2026-01-17T18:20:00Z"}
{"id":"morphir-mpr","title":"Implement WIT package emitter","description":"Implement WIT package writing/emission for building WIT packages from the AST.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T09:57:05Z","created_by":"damian","updated_at":"2026-01-07T04:34:20Z","closed_at":"2026-01-07T04:34:20Z","close_reason":"Implemented WIT package emitter with full type support and tests"}
{"id":"morphir-msl","title":"Phase 2: IR Integration","description":"Integrate decorations with Morphir IR types. Design decoration attachment mechanism, extend IR types to support decoration metadata, implement decoration queries/accessors, and add decoration validation during IR processing.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-09T09:01:53Z","created_by":"Damian Reeves","updated_at":"2026-01-12T21:57:38Z","closed_at":"2026-01-12T21:57:38Z","close_reason":"Closed"}
{"id":"morphir-n46","title":"Morphir x WebAssembly Component Model Interactive Guide","description":"Build an interactive, self-guided tutorial that explains the WebAssembly Component Model ABI (canonical ABI, lifting/lowering) while being extremely aware of Morphir IR.\n\n## Goals\n1. Map Morphir IR programs and types to WebAssembly (core Wasm level)\n2. Evaluate whether Morphir IR could serve as a practical replacement for WIT\n3. Identify gaps preventing this substitution (semantic/ABI/tooling mismatches)\n4. Determine how Morphir could be enhanced to support this use case\n\n## Modules (Progressive)\n- Core Wasm boundary constraints (i32/i64/f32/f64, linear memory)\n- Canonical ABI: lifting and lowering\n- Scalars (bool/int/float)\n- Strings and byte sequences (ptr/len, encoding)\n- Lists, records/structs, tuples\n- Variants/enums, option/result\n- Functions, multi-arg/multi-return, flattening rules\n- Resources/handles (ownership, borrowing patterns)\n- Error handling and traps vs typed errors\n- Versioning and evolution patterns\n- Performance considerations (copies, allocations, alignment)\n\n## Deliverables per Module\n- Conceptual explanation with ASCII diagrams\n- Code snippets in F#, Scala, Go\n- Morphir IR examples (types + functions)\n- Core Wasm function signature and memory layout\n- WIT replacement check (what Morphir has, what's missing, candidate enhancements)\n- Confidence check questions\n\n## Key Questions\n- Can Morphir IR act as an IDL/interface definition layer analogous to WIT?\n- Can we derive canonical ABI lowering/lifting rules from Morphir IR types?\n- What semantics does WIT have that Morphir IR lacks?\n- What additions would make Morphir IR more suitable?","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-17T06:58:45Z","created_by":"damian","updated_at":"2026-01-17T20:34:50Z","closed_at":"2026-01-17T20:34:50Z"}
{"id":"morphir-n6b","title":"Add analyzer framework for diagnostics","description":"Provide analyzer-style steps that inspect inputs/IR/config and emit diagnostics without mutating core outputs.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-05T07:25:51Z","created_by":"damian","updated_at":"2026-01-05T17:29:23Z"}
{"id":"morphir-nd6","title":"Phase 4: Caching \u0026 Performance","description":"Implement task caching and parallel execution for improved build performance.\n\n**GitHub Issue:** https://github.com/finos/morphir/issues/496\n\n## Scope\n- Input hashing for cache keys\n- Cache hit/miss detection\n- Plan caching\n- Parallel execution within stages\n\n## Acceptance Criteria\n- Second run of unchanged build skips cached tasks\n- morphir build reports \"cached\" for unchanged tasks\n- Parallel tasks execute concurrently\n- --no-cache forces full rebuild","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-08T07:04:09Z","created_by":"damian","updated_at":"2026-01-08T07:07:56Z"}
{"id":"morphir-nfo","title":"Create example decoration schemas and value files","description":"Create example decoration schemas and value files for testing and documentation. Include: 1) Simple decoration schema (e.g., boolean flag), 2) Complex decoration schema (e.g., structured metadata), 3) Example decoration value files with various FQName mappings. Place in examples/decorations/ directory. Use these in integration tests and documentation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T09:20:56Z","created_by":"Damian Reeves","updated_at":"2026-01-12T22:47:27Z","closed_at":"2026-01-12T22:47:27Z","close_reason":"Closed"}
{"id":"morphir-om0","title":"Phase 1: Core Decoration Infrastructure","description":"Build the foundation for loading and validating decorations. Includes decoration IR loader, entry point validation, decoration value file loader/saver, and FQName-based node mapping.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-09T09:01:09Z","created_by":"Damian Reeves","updated_at":"2026-01-09T09:01:09Z"}
{"id":"morphir-p02","title":"Phase 4: API Endpoints","description":"Enable develop UI integration. Create /server/attributes endpoint, implement decoration CRUD operations, add decoration value validation endpoints, and support real-time decoration updates.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-09T09:02:58Z","created_by":"Damian Reeves","updated_at":"2026-01-09T09:02:58Z"}
{"id":"morphir-p6n","title":"Phase 3: CLI Commands","description":"Provide command-line tools for decoration management. Implement decoration-setup command (auto-configure decorations from decoration IR), decoration-validate command (validate decoration values), and add decoration-related flags to existing commands.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-09T09:02:25Z","created_by":"Damian Reeves","updated_at":"2026-01-12T22:08:08Z","closed_at":"2026-01-12T22:08:08Z","close_reason":"Closed"}
{"id":"morphir-pda","title":"Add VFS traversal helpers","description":"Implement walk/filter/map/fold helpers (pre/post order) with shadowed inclusion options and path-based traversal using Glob.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T17:26:37Z","created_by":"damian","updated_at":"2026-01-06T21:38:11Z","closed_at":"2026-01-06T21:38:11Z","close_reason":"Implemented comprehensive VFS traversal helpers with shadowing support in PR #463"}
{"id":"morphir-pfi","title":"Toolchain Integration Framework","description":"Enable Morphir to orchestrate both external tools (like morphir-elm) and native Go implementations (like WIT bindings) through a flexible toolchain abstraction.\n\n**GitHub Epic:** https://github.com/finos/morphir/issues/498\n\n## Implementation Phases\n- Phase 1: Foundation (morphir-6pk) → #493\n- Phase 2: WIT Toolchain Adapter (morphir-4f3) → #499\n- Phase 3: morphir-elm Integration (morphir-5r9) → #494\n- Phase 4: Workflows \u0026 Planning (morphir-kf1) → #495\n- Phase 5: Caching \u0026 Performance (morphir-nd6) → #496\n- Phase 6: Polish \u0026 Ecosystem (morphir-3sk) → #497\n\n## Design Documents\n- docs/toolchain-integration-design.md\n- docs/adr/ADR-0003-toolchain-integration.md\n\n## Reference Implementation\nWIT bindings (pkg/bindings/wit/pipeline) serve as the first native toolchain.","status":"in_progress","priority":1,"issue_type":"epic","created_at":"2026-01-08T01:38:39Z","created_by":"damian","updated_at":"2026-01-08T07:21:06Z"}
{"id":"morphir-pg0","title":"Implement godog test entry point and context","description":"Create bdd_test.go entry point, test context, and common step definitions","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-02T09:53:09Z","created_by":"damian","updated_at":"2026-01-05T17:29:23Z","closed_at":"2026-01-02T10:24:45Z","close_reason":"Created bdd_test.go entry point with godog.TestSuite, test context, and step definitions"}
{"id":"morphir-qg8","title":"Embed schemas in models package","description":"Embed the morphir JSON schemas in the models package using Go embed so they can be used for runtime schema validation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T22:13:00Z","created_by":"damian","updated_at":"2026-01-05T17:29:23Z","closed_at":"2026-01-02T23:01:30Z","close_reason":"Created ir/schema package with embedded v1/v2/v3 schemas"}
{"id":"morphir-rnt","title":"Add comprehensive code coverage reporting to CI/CD","description":"Implement code coverage tracking and reporting in CI/CD pipeline using:\n- Go's built-in coverage tools with -coverprofile and -covermode=atomic\n- fgrosse/go-coverage-report GitHub Action for PR comments with coverage deltas\n- gotestsum for JUnit XML test reports\n- test-summary/action for GitHub Actions test summaries\n- Add test-coverage and test-summary just recipes\n- Update CI workflow to generate coverage on all test runs\n- Add coverage badge to README (optional)\n\nBenefits:\n- Track code coverage trends over time\n- See coverage impact in PR reviews\n- Better visibility into test results\n- Identify untested code paths","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-05T18:05:05Z","created_by":"Damian Reeves","updated_at":"2026-01-09T07:46:37Z","closed_at":"2026-01-08T01:03:32Z"}
{"id":"morphir-rog","title":"Add BDD fixtures/tests for WIT (WASI)","description":"Add BDD fixtures and scenarios for parsing/creating WIT packages using real WIT packages like WASI.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T09:57:42Z","created_by":"damian","updated_at":"2026-01-06T13:42:05Z","closed_at":"2026-01-06T13:42:05Z","close_reason":"Added comprehensive BDD test structure for WIT bindings with 3 feature files covering domain model construction, type traversal utilities, and WASI package parsing. Implemented step definitions using testify assertions for cleaner test code. Tests are integrated into main BDD suite and discovered automatically."}
{"id":"morphir-rust-3kl","title":"Update IR V4 types to match latest finos/morphir spec","description":"The Classic ↔ V4 converter cannot be fully implemented until we update our IR V4 type definitions to match the most recent specification from finos/morphir.\n\n## Background\nThe steel thread migrate command currently only supports same-format passthrough (V4→V4, Classic→Classic). Cross-format conversion is blocked because our IR V4 types are incomplete - they use `serde_json::Value` placeholders instead of typed expressions.\n\n## References\n- V4 Spec: https://github.com/finos/morphir/blob/main/docs/spec/ir/schemas/v4/\n- What's New in V4: https://github.com/finos/morphir/blob/main/docs/spec/ir/schemas/v4/whats-new.md\n- Complete Example: https://github.com/finos/morphir/blob/main/docs/spec/ir/schemas/v4/complete-example.json\n\n## Current State (What Works)\n- Distribution structure (Library/Specs/Application) - matches spec\n- FormatVersion (string \"4.0.0\" or int 4)\n- Wrapper object serialization in v4.rs\n- TypeAttributes/ValueAttributes with source, constraints, extensions\n- Core Type enum (7 variants) - Variable, Reference, Tuple, Record, ExtensibleRecord, Function, Unit\n- Core Value enum (18+ variants) including V4-only Hole, Native, External\n- Literal types with IntegerLiteral (alias WholeNumberLiteral)\n- JSON-level converter works for Classic ↔ V4\n\n## Tasks (Priority Order)\n\n### Phase 1: Serde for Type\u003cA\u003e\n- [ ] Implement Serialize for Type\u003cA\u003e with V4 wrapper object format\n- [ ] Implement Deserialize for Type\u003cA\u003e with V4 format + shorthand support\n- [ ] Add tests with sample V4 type expressions\n- Files: `crates/morphir-core/src/ir/type_expr.rs`, add `serde_v4.rs`\n\n### Phase 2: Serde for Value\u003cTA,VA\u003e\n- [ ] Implement Serialize for Value\u003cTA,VA\u003e with V4 wrapper object format\n- [ ] Implement Deserialize for Value\u003cTA,VA\u003e with V4 format\n- [ ] Add tests with sample V4 value expressions\n- Files: `crates/morphir-core/src/ir/value_expr.rs`\n\n### Phase 3: Replace serde_json::Value placeholders\n- [ ] Replace in TypeSpecification.type_expr\n- [ ] Replace in ConstructorArgSpec.arg_type\n- [ ] Replace in ValueSpecification.inputs/output\n- [ ] Replace in TypeDefinition.type_expr\n- [ ] Replace in ConstructorArg.arg_type\n- [ ] Replace in ValueDefinition.output_type\n- [ ] Replace in InputTypeEntry.input_type\n- [ ] Replace in ValueBody::ExpressionBody.body\n- [ ] Replace in ValueAttributes.inferred_type\n- File: `crates/morphir-core/src/ir/v4.rs`\n\n### Phase 4: Add IncompleteTypeDefinition\n- [ ] Add IncompleteTypeDefinition variant to TypeDefinition enum\n- [ ] Include incompleteness reason (similar to HoleReason)\n- [ ] Add serialization support\n- Files: `crates/morphir-core/src/ir/type_def.rs`, `v4.rs`\n\n### Phase 5: Integration Tests\n- [ ] Test with real V4 IR files from finos/morphir examples\n- [ ] Test round-trip conversion: V4 JSON → typed IR → V4 JSON\n- [ ] Test Classic → V4 conversion produces valid V4 JSON\n- [ ] Add fixtures to integration-tests/fixtures/steel-thread/\n\n## V4 Format Details\n\n### Wrapper Object Format\n```json\n{\"Variable\": {\"name\": \"a\"}}\n{\"Reference\": {\"fqname\": \"morphir/sdk:list#map\", \"args\": [...]}}\n{\"Tuple\": {\"elements\": [...]}}\n{\"Record\": {\"field-name\": type, ...}}\n```\n\n### Compact Shorthand (for deserialization)\n- Type variable as bare string: `\"a\"` instead of `{\"Variable\": {\"name\": \"a\"}}`\n- Simple reference as FQName: `\"morphir/sdk:basics#int\"` \n- Reference with args: `{\"Reference\": [\"morphir/sdk:list#list\", \"a\"]}`\n\n## Acceptance Criteria\n- [ ] Type\u003cA\u003e and Value\u003cTA,VA\u003e implement Serialize + Deserialize\n- [ ] All serde_json::Value placeholders replaced with typed expressions\n- [ ] Round-trip V4 JSON works (deserialize → serialize = same structure)\n- [ ] Classic → V4 converter produces valid typed V4 IR\n- [ ] Integration tests pass with real Morphir IR files\n\n## Blocks\n- Steel thread P0 completion (cross-format migration)\n- morphir-rust-steel-thread","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-30T02:54:21Z","created_by":"damian","updated_at":"2026-01-31T08:14:37Z","closed_at":"2026-01-31T08:14:37Z","close_reason":"PR #63 merged with V4 IR types update and comprehensive test coverage"}
{"id":"morphir-rust-72s","title":"Implement Python binding using Ruff parser crate","description":"Create a morphir-python-binding crate that uses Ruff's parser and AST crates to parse Python source code and convert it to Morphir IR.\n\n## Background\n\nRuff is a fast Python linter and formatter written in Rust. It provides high-quality parser and AST crates that can be reused:\n- `ruff_python_parser` - Python parser\n- `ruff_python_ast` - Python AST types\n\n## Goals\n\n1. Create `morphir-python-binding` crate following the same pattern as `morphir-gleam-binding`\n2. Use Ruff's parser crate for parsing Python source files\n3. Transform Ruff's Python AST to Morphir IR\n4. Support Python type hints for type information extraction\n5. Enable roundtrip testing (Python → IR → Python)\n\n## Benefits\n\n- **Performance**: Ruff's parser is highly optimized Rust code\n- **Correctness**: Well-tested parser used in production by the Ruff project\n- **Compatibility**: Supports modern Python syntax (3.7+)\n- **Maintenance**: Parser updates come from active Ruff development\n\n## Implementation Steps\n\n1. Add ruff_python_parser and ruff_python_ast as dependencies\n2. Create Python AST to ModuleIR visitor\n3. Implement type annotation parsing for function signatures\n4. Add BDD acceptance tests with Python fixtures\n5. Support Python project parsing (multiple modules)\n\n## References\n\n- Ruff GitHub: https://github.com/astral-sh/ruff\n- ruff_python_parser crate: https://crates.io/crates/ruff_python_parser\n- ruff_python_ast crate: https://crates.io/crates/ruff_python_ast","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-24T11:35:28Z","created_by":"damian","updated_at":"2026-01-24T11:35:40Z"}
{"id":"morphir-rust-builtins","title":"Implement morphir-builtins with migrate extension","description":"Complete the implementation of morphir-builtins crate with the migrate extension as the first builtin.\n\n## Background\nBuiltin extensions are bundled with Morphir and support dual execution modes:\n- **Native**: Direct Rust implementation (always available, best performance)\n- **WASM**: Compiled to WASM for extension architecture validation\n\nThe migrate extension transforms Morphir IR between v3/classic and v4 formats.\n\n## Crate Structure Created ✅\n- [x] morphir-builtins/Cargo.toml\n- [x] morphir-builtins/src/lib.rs (BuiltinExtension trait)\n- [x] morphir-builtins/src/registry.rs (BuiltinRegistry)\n- [x] morphir-builtins/src/migrate/mod.rs (MigrateExtension skeleton)\n- [x] morphir-builtins/src/migrate/wasm.rs (WASM exports)\n- [x] morphir-builtins/README.md\n\n## Tasks\n\n### 1. Complete Migrate Implementation\n- [ ] Move/refactor existing migrate logic from CLI to morphir-builtins\n- [ ] Implement MigrateRequest/MigrateResponse properly\n- [ ] Support Classic → V4 conversion\n- [ ] Support V4 → Classic conversion\n- [ ] Handle same-format passthrough\n- [ ] Add proper error handling and warnings\n- [ ] Ensure envelope protocol is used correctly\n\n### 2. Testing\n- [ ] Unit tests for MigrateExtension::execute_native()\n- [ ] Test Classic → V4 conversion\n- [ ] Test V4 → Classic conversion\n- [ ] Test same-format scenarios\n- [ ] Test error cases (invalid IR, bad target version)\n- [ ] Integration test with actual IR files\n\n### 3. WASM Support (Optional, P2)\n- [ ] Fix WASM exports in migrate/wasm.rs\n- [ ] Create build script for WASM compilation\n- [ ] Test WASM version with ExtismRuntime\n- [ ] Add include_bytes! for WASM embedding\n\n### 4. CLI Integration\n- [ ] Update morphir CLI to use MigrateExtension (native mode)\n- [ ] Refactor existing migrate.rs to delegate to morphir-builtins\n- [ ] Add --mode flag (native vs wasm) for testing\n- [ ] Maintain backward compatibility\n\n### 5. Documentation\n- [ ] Document BuiltinExtension trait\n- [ ] Add examples to README\n- [ ] Document how to add new builtins\n- [ ] Update steel thread docs\n\n## Acceptance Criteria\n- [ ] morphir-builtins compiles successfully\n- [ ] MigrateExtension::execute_native() works for all conversions\n- [ ] All tests pass\n- [ ] CLI migrate command uses morphir-builtins (native mode)\n- [ ] Same behavior as current migrate implementation\n- [ ] Ready for WASM compilation (structure in place)\n\n## References\n- morphir-builtins/README.md\n- docs/contributors/design/extensions/actor-based/12-wasm-extension-architecture-session.md\n- crates/morphir/src/commands/migrate.rs (current implementation)\n\n## Related Issues\n- Part of steel thread (morphir-rust-steel-thread)\n- Part of WASM extension architecture (morphir-rust-kw8)\n- Enables: morphir-rust-direct1 (can use builtin for testing)","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-29T13:00:00Z","created_by":"damian","updated_at":"2026-01-29T13:00:00Z"}
{"id":"morphir-rust-builtins-v2","title":"[UPDATED] Implement morphir-builtins with migrate extension","description":"Complete the implementation of morphir-builtins crate with the migrate extension as the first builtin.\n\n## PREREQUISITE: Gherkin Acceptance Tests Required\n\n**BEFORE IMPLEMENTATION**: Prepare comprehensive Gherkin acceptance tests and present to user for approval/iteration. Implementation may NOT proceed without user verification of tests.\n\nGherkin tests must cover:\n- Native execution: MigrateExtension::execute_native()\n- Classic → V4 conversion scenarios\n- V4 → Classic conversion scenarios\n- Same-format passthrough (no conversion)\n- Error handling (invalid IR, bad target version, malformed envelopes)\n- Warning generation (missing dependencies)\n- Envelope protocol usage (input/output envelope validation)\n- Registry discovery and access\n\n## Background\nBuiltin extensions are bundled with Morphir and support dual execution modes:\n- **Native**: Direct Rust implementation (always available, best performance)\n- **WASM**: Compiled to WASM for extension architecture validation\n\nThe migrate extension transforms Morphir IR between v3/classic and v4 formats.\n\n## Architecture\n\n```\n┌───────────────────────────────────────────────────────────────┐\n│                    morphir-builtins                           │\n│                                                               │\n│  ┌─────────────────────────────────────────────────────┐    │\n│  │         BuiltinExtension Trait                      │    │\n│  │  - execute_native(Envelope) -\u003e Result\u003cEnvelope\u003e     │    │\n│  │  - info() -\u003e BuiltinInfo                            │    │\n│  │  - wasm_bytes() -\u003e Option\u003c\u0026'static [u8]\u003e           │    │\n│  └─────────────────────────────────────────────────────┘    │\n│                          ▲                                    │\n│                          │                                    │\n│           ┌──────────────┴──────────────┐                   │\n│           │                             │                    │\n│  ┌────────┴────────┐         ┌─────────┴────────┐          │\n│  │ MigrateExtension│         │ Future: TS Backend│          │\n│  │ - Native impl   │         │ - Native impl     │          │\n│  │ - WASM exports  │         │ - WASM exports    │          │\n│  └─────────────────┘         └───────────────────┘          │\n│           ▲                                                   │\n│           │                                                   │\n│  ┌────────┴──────────────────────────────────────┐          │\n│  │         BuiltinRegistry                        │          │\n│  │  - new() -\u003e Self                               │          │\n│  │  - get(id) -\u003e Option\u003c\u0026dyn BuiltinExtension\u003e   │          │\n│  │  - list() -\u003e Vec\u003cBuiltinInfo\u003e                 │          │\n│  └────────────────────────────────────────────────┘          │\n└───────────────────────────────────────────────────────────────┘\n         │                              │\n         ▼                              ▼\n   Native Mode                     WASM Mode\n   (CLI direct)                  (ExtismRuntime)\n   Fast, production            Architecture testing\n```\n\n## Crate Structure Created ✅\n- [x] morphir-builtins/Cargo.toml\n- [x] morphir-builtins/src/lib.rs (BuiltinExtension trait)\n- [x] morphir-builtins/src/registry.rs (BuiltinRegistry)\n- [x] morphir-builtins/src/migrate/mod.rs (MigrateExtension skeleton)\n- [x] morphir-builtins/src/migrate/wasm.rs (WASM exports)\n- [x] morphir-builtins/README.md\n\n## Tasks\n\n### 0. **FIRST: Create Gherkin acceptance tests and get user approval**\n- [ ] Write Gherkin scenarios for all conversion paths\n- [ ] Present to user for review/iteration\n- [ ] Get explicit approval before proceeding\n\n### 1. Complete Migrate Implementation\n- [ ] Move/refactor existing migrate logic from CLI to morphir-builtins\n- [ ] Implement MigrateRequest/MigrateResponse properly\n- [ ] Support Classic → V4 conversion\n- [ ] Support V4 → Classic conversion\n- [ ] Handle same-format passthrough\n- [ ] Add proper error handling and warnings\n- [ ] Ensure envelope protocol is used correctly\n\n### 2. Testing\n- [ ] All Gherkin scenarios pass\n- [ ] Unit tests for MigrateExtension::execute_native()\n- [ ] Test Classic → V4 conversion\n- [ ] Test V4 → Classic conversion\n- [ ] Test same-format scenarios\n- [ ] Test error cases (invalid IR, bad target version)\n- [ ] Integration test with actual IR files\n\n### 3. WASM Support (Optional, P2)\n- [ ] Fix WASM exports in migrate/wasm.rs\n- [ ] Create build script for WASM compilation\n- [ ] Test WASM version with ExtismRuntime\n- [ ] Add include_bytes! for WASM embedding\n\n### 4. CLI Integration\n- [ ] Update morphir CLI to use MigrateExtension (native mode)\n- [ ] Refactor existing migrate.rs to delegate to morphir-builtins\n- [ ] Add --mode flag (native vs wasm) for testing\n- [ ] Maintain backward compatibility\n\n### 5. Documentation\n- [ ] Document BuiltinExtension trait\n- [ ] Add examples to README\n- [ ] Document how to add new builtins\n- [ ] Update steel thread docs\n\n## Acceptance Criteria\n- [ ] **Gherkin tests approved by user before implementation**\n- [ ] All Gherkin scenarios pass\n- [ ] morphir-builtins compiles successfully\n- [ ] MigrateExtension::execute_native() works for all conversions\n- [ ] All tests pass\n- [ ] CLI migrate command uses morphir-builtins (native mode)\n- [ ] Same behavior as current migrate implementation\n- [ ] Ready for WASM compilation (structure in place)\n\n## References\n- morphir-builtins/README.md\n- docs/contributors/design/extensions/actor-based/12-wasm-extension-architecture-session.md\n- crates/morphir/src/commands/migrate.rs (current implementation)\n- ~/AGENTS.md - Gherkin Acceptance Test Requirement\n\n## Related Issues\n- Part of steel thread (morphir-rust-steel-thread)\n- Part of WASM extension architecture (morphir-rust-kw8)\n- Enables: morphir-rust-direct1 (can use builtin for testing)","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-29T13:30:00Z","created_by":"damian","updated_at":"2026-01-29T13:30:00Z"}
{"id":"morphir-rust-daemon-client1","title":"Implement DaemonClient for IPC to daemon actors","description":"Implement DaemonClient in morphir-ext that implements ExtensionRuntime trait and communicates with the daemon via IPC.\n\n## Background\nCLI and IDE clients need to communicate with the daemon service which hosts extension actors. DaemonClient provides the client-side implementation of ExtensionRuntime that delegates to remote actors via IPC.\n\n## Tasks\n- [ ] Create morphir-ext/src/daemon_client.rs module\n- [ ] Implement DaemonClient struct\n- [ ] Implement ExtensionRuntime trait for DaemonClient\n- [ ] Add IPC transport layer (JSON-RPC over Unix socket/TCP)\n- [ ] Handle async communication with daemon actors\n- [ ] Support connection pooling and reconnection\n- [ ] Add proper error handling for network failures\n- [ ] Support both TEA and design-time extension calls\n\n## Acceptance Criteria\n- DaemonClient implements ExtensionRuntime trait\n- Can connect to daemon via Unix socket (local) or TCP (remote)\n- All extension calls (init/update/subscriptions) work via IPC\n- Design-time calls (frontend-compile, backend-generate) work via IPC\n- Proper error handling and reconnection logic\n- Connection pooling for multiple concurrent requests\n\n## References\n- docs/contributors/design/extensions/actor-based/12-wasm-extension-architecture-session.md\n- morphir-ext/src/runtime.rs (ExtensionRuntime trait)\n- morphir-daemon (daemon service infrastructure)\n\n## Related Issues\n- Depends on: morphir-rust-kam1 (actor infrastructure)\n- Part of WASM extension architecture (see morphir-rust-kw8)","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-29T12:00:00Z","created_by":"damian","updated_at":"2026-01-29T12:00:00Z"}
{"id":"morphir-rust-direct1","title":"Implement DirectRuntime for browser/WASM mode","description":"Implement DirectRuntime in morphir-ext for direct execution without actors or IPC, targeting browser and WASM client modes.\n\n## Background\nThe morphir-ext crate provides ExtensionRuntime trait as the abstraction. We need a DirectRuntime implementation for environments where daemon/actor infrastructure is not available (browser, standalone WASM).\n\n## Tasks\n- [ ] Create morphir-ext/src/direct.rs module\n- [ ] Implement DirectRuntime struct wrapping ExtensionInstance\n- [ ] Provide simple API for browser/WASM environments\n- [ ] No IPC, no actors - just direct function calls\n- [ ] Support both TEA (init/update/subscriptions) and design-time (process) patterns\n- [ ] Add tests for direct execution mode\n\n## Acceptance Criteria\n- DirectRuntime works in browser WASM context\n- Can instantiate extensions without daemon\n- TEA lifecycle (init/update/subscriptions) works correctly\n- Design-time operations (frontend-compile, backend-generate) work\n- No Kameo or daemon dependencies\n\n## References\n- docs/contributors/design/extensions/actor-based/12-wasm-extension-architecture-session.md\n- morphir-ext/src/runtime.rs (ExtensionRuntime trait)\n- morphir-ext/src/actor.rs (actor-based example)\n\n## Related Issues\n- Depends on: morphir-rust-ext1 (ExtismRuntime)\n- Part of WASM extension architecture (see morphir-rust-kw8)","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-29T12:00:00Z","created_by":"damian","updated_at":"2026-01-29T12:00:00Z"}
{"id":"morphir-rust-direct1-v2","title":"[UPDATED] Implement DirectRuntime for direct execution mode","description":"Implement DirectRuntime in morphir-ext for direct execution without actors or IPC, supporting CLI, Morphir-Live, and browser/WASM environments.\n\n## PREREQUISITE: Gherkin Acceptance Tests Required\n\n**BEFORE IMPLEMENTATION**: Prepare comprehensive Gherkin acceptance tests and present to user for approval/iteration. Implementation may NOT proceed without user verification of tests.\n\nGherkin tests must cover:\n- DirectRuntime construction with ExtismRuntime\n- execute() method with various function names and envelopes\n- TEA lifecycle: init(), update(), subscriptions()\n- Design-time operations: backend_generate(), frontend_compile()\n- Error handling (WASM errors, envelope errors, missing functions)\n- No dependency on Kameo or daemon infrastructure\n- Works in WASM context (no_std compatible if needed)\n\n## Background\nDirectRuntime provides in-process extension execution without daemon/actor overhead. All clients (CLI, Morphir-Live, browser/WASM) can use DirectRuntime for embedded execution.\n\n## Architecture\n\n```\n┌────────────────────────────────────────────────────────────┐\n│                     Client Layer                           │\n│  (CLI, Morphir-Live, Browser/WASM, IDE)                   │\n└──────────────────────┬─────────────────────────────────────┘\n                       │\n                       │ Choice: Direct or Daemon\n                       │\n            ┌──────────┴──────────┐\n            │                     │\n            ▼                     ▼\n  ┌──────────────────┐   ┌─────────────────┐\n  │  DirectRuntime   │   │  DaemonClient   │\n  │  (morphir-ext)   │   │  (morphir-ext)  │\n  └────────┬─────────┘   └────────┬────────┘\n           │                      │\n           │ No IPC               │ IPC (JSON-RPC)\n           │                      │\n           ▼                      ▼\n  ┌──────────────────┐   ┌─────────────────┐\n  │ ExtismRuntime    │   │  Daemon Service │\n  │ (morphir-ext)    │   │  with actors    │\n  └────────┬─────────┘   └─────────────────┘\n           │\n           │ Loads WASM\n           ▼\n  ┌──────────────────┐\n  │  Extension       │\n  │  (WASM module)   │\n  └──────────────────┘\n\nDirectRuntime Flow:\n━━━━━━━━━━━━━━━━━━\nClient\n  │\n  └─\u003e DirectRuntime::new(ExtismRuntime)\n        │\n        └─\u003e execute(\"backend_generate\", envelope)\n              │\n              └─\u003e ExtismRuntime::call_envelope()\n                    │\n                    └─\u003e Extism loads WASM\n                          │\n                          └─\u003e Calls backend_generate()\n                                │\n                                └─\u003e Returns envelope\n```\n\n## Implementation Location\n- **File**: `morphir-ext/src/direct.rs`\n- **Depends on**: `morphir-ext/src/runtime.rs` (ExtensionRuntime trait)\n- **Uses**: `morphir-ext/src/extism_runtime.rs` (ExtismRuntime)\n\n## Tasks\n\n### 0. **FIRST: Create Gherkin acceptance tests and get user approval**\n- [ ] Write Gherkin scenarios for DirectRuntime usage\n- [ ] Include all execution modes (TEA + design-time)\n- [ ] Present to user for review/iteration\n- [ ] Get explicit approval before proceeding\n\n### 1. Core Implementation\n- [ ] Create `morphir-ext/src/direct.rs` module\n- [ ] Implement DirectRuntime struct\n- [ ] Wrap ExtensionInstance (which wraps ExtensionRuntime)\n- [ ] Simple execute() API: `execute(func_name, input) -\u003e Result\u003cEnvelope\u003e`\n- [ ] No actor infrastructure, no IPC\n- [ ] No state management initially (stateless calls)\n\n### 2. TEA Support\n- [ ] Add init() helper method\n- [ ] Add update() helper method\n- [ ] Add subscriptions() helper method\n- [ ] Maintain model state if needed\n\n### 3. Design-Time Support\n- [ ] Support backend_generate() calls\n- [ ] Support frontend_compile() calls\n- [ ] Support get_capabilities() calls\n\n### 4. Error Handling\n- [ ] Map ExtismRuntime errors to DirectRuntime errors\n- [ ] Provide clear error messages\n- [ ] Handle missing functions gracefully\n- [ ] Handle envelope encoding/decoding errors\n\n### 5. Testing\n- [ ] All Gherkin scenarios pass\n- [ ] Unit tests with mock ExtensionRuntime\n- [ ] Integration tests with real WASM (morphir-builtins migrate)\n- [ ] Test in no_std context if targeting WASM\n- [ ] Test error paths\n\n### 6. Documentation\n- [ ] API documentation\n- [ ] Usage examples (native and WASM contexts)\n- [ ] Comparison with DaemonClient\n\n## Acceptance Criteria\n- [ ] **Gherkin tests approved by user before implementation**\n- [ ] All Gherkin scenarios pass\n- [ ] DirectRuntime compiles for native and wasm32-unknown-unknown\n- [ ] Can execute migrate builtin in native mode\n- [ ] TEA lifecycle methods work\n- [ ] Design-time operations work\n- [ ] No Kameo or daemon dependencies\n- [ ] Clean error handling\n- [ ] Documented with examples\n\n## References\n- docs/contributors/design/extensions/actor-based/12-wasm-extension-architecture-session.md\n- morphir-ext/src/runtime.rs (ExtensionRuntime trait, ExtensionInstance)\n- morphir-ext/src/actor.rs (actor-based alternative)\n- ~/AGENTS.md - Gherkin Acceptance Test Requirement\n\n## Related Issues\n- Depends on: morphir-rust-ext1 (ExtismRuntime)\n- Used by: morphir-rust-steel-thread (CLI integration)\n- Enables: morphir-rust-builtins-v2 (testing native + WASM)\n- Part of WASM extension architecture (morphir-rust-kw8)","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-29T14:00:00Z","created_by":"damian","updated_at":"2026-01-29T14:00:00Z"}
{"id":"morphir-rust-dt1","title":"Implement design-time extension runtime","description":"Implement the runtime interface for design-time extensions (frontend, backend, common-backend) using the process() pattern.\n\n## Background\nDesign-time extensions transform Morphir IR or source code. They use a simpler call pattern than runtime extensions: process(input) -\u003e output.\n\n## Tasks\n- [ ] Implement DesignTimeExtension trait with process() method\n- [ ] Add support for frontend-compile(input: Envelope) -\u003e Envelope\n- [ ] Add support for backend-generate(input: Envelope) -\u003e Envelope\n- [ ] Add support for get-capabilities() -\u003e Envelope\n- [ ] Implement extension registry for discovery\n- [ ] Add configuration-driven extension loading\n- [ ] Handle design-time specific host functions (workspace, ir_helpers)\n\n## Acceptance Criteria\n- DesignTimeExtension can load and call frontend extensions\n- DesignTimeExtension can load and call backend extensions\n- Extension registry discovers extensions from config\n- Capabilities querying works correctly\n- Design-time host functions are available to extensions\n\n## References\n- docs/contributors/design/extensions/actor-based/12-wasm-extension-architecture-session.md (lines 383-508)\n\n## Related Issues\n- Depends on: morphir-rust-ext1\n- Part of WASM extension architecture (see morphir-rust-kw8)","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-29T10:38:09Z","created_by":"damian","updated_at":"2026-01-29T10:38:09Z"}
{"id":"morphir-rust-env1","title":"Implement Envelope protocol layer for extension ABI","description":"Implement the Envelope + JSON codec (host side) as the foundation for the unified extension model.\n\n## PREREQUISITE: Gherkin Acceptance Tests Required\n\n**BEFORE IMPLEMENTATION**: Prepare comprehensive Gherkin acceptance tests and present to user for approval. Implementation may NOT proceed without user verification of tests.\n\nTests must cover:\n- Envelope creation from various Serialize types\n- JSON encoding/decoding roundtrips\n- Header field initialization and handling\n- Content type validation\n- Error cases (invalid JSON, type mismatches, etc.)\n- Edge cases (empty content, large payloads, etc.)\n\n## Background\nThe WASM extension architecture uses an envelope-based protocol that is host-agnostic and works across CLI, daemon, services, and browser hosts.\n\n## Tasks\n- [ ] **FIRST: Create Gherkin acceptance tests and get user approval**\n- [ ] Implement Envelope struct with Header, content_type, and content fields\n- [ ] Implement JSON codec for Envelope serialization/deserialization\n- [ ] Define JSON payload conventions for TEA runtime (init/update/subscriptions)\n- [ ] Define JSON payload conventions for design-time extensions\n- [ ] Add helper methods (json(), as_json()) for common operations\n- [ ] Document envelope content_type conventions\n\n## Acceptance Criteria\n- **Gherkin tests approved by user before implementation**\n- All Gherkin scenarios pass\n- Envelope can be created from any Serialize type\n- Envelope content can be deserialized to any Deserialize type\n- Header includes seqnum, session_id, and optional kind\n- JSON encoding/decoding roundtrips correctly\n\n## References\n- docs/contributors/design/extensions/actor-based/12-wasm-extension-architecture-session.md\n- ~/AGENTS.md - Gherkin Acceptance Test Requirement\n\n## Related Issues\n- Part of WASM extension architecture (see morphir-rust-kw8)","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-29T10:29:50Z","created_by":"damian","updated_at":"2026-01-29T10:42:47Z"}
{"id":"morphir-rust-ext1","title":"Implement Extism runtime integration wrapper","description":"**Location**: morphir-ext/src/extism_runtime.rs\n\nWrap Extism as a hidden implementation detail and provide an envelope-based API for loading and calling WASM extension programs.\n\n## PREREQUISITE: Gherkin Acceptance Tests Required\n\n**BEFORE IMPLEMENTATION**: Prepare comprehensive Gherkin acceptance tests and present to user for approval. Implementation may NOT proceed without user verification of tests.\n\nTests must cover:\n- ExtismRuntime construction with various WASM module formats\n- call_envelope() with different envelope types\n- Envelope encoding/decoding during WASM calls\n- Error handling (invalid WASM, missing functions, runtime errors)\n- Memory management and cleanup\n- No Extism types in public API\n\n## Background\nExtism is used internally to load and execute WASM modules, but must remain hidden from extension authors. The runtime provides a clean envelope-based API that works with any WASM engine.\n\n## Tasks\n- [ ] **FIRST: Create Gherkin acceptance tests and get user approval**\n- [ ] Implement ExtismRuntime wrapper struct\n- [ ] Add new() method to load WASM bytes via Extism Manifest\n- [ ] Implement call_envelope() method that takes/returns Envelope\n- [ ] Convert between Envelope and raw bytes for Extism calls\n- [ ] Handle Extism errors and map to Morphir error types\n- [ ] Ensure no Extism types leak into public API\n\n## Acceptance Criteria\n- **Gherkin tests approved by user before implementation**\n- All Gherkin scenarios pass\n- ExtismRuntime can load core WASM modules\n- call_envelope() successfully invokes WASM functions\n- Envelope encoding/decoding works transparently\n- Error handling is robust and informative\n- Extension authors never see Extism types\n\n## References\n- docs/contributors/design/extensions/actor-based/12-wasm-extension-architecture-session.md (lines 354-381)\n- ~/AGENTS.md - Gherkin Acceptance Test Requirement\n\n## Related Issues\n- Depends on: morphir-rust-env1\n- Part of WASM extension architecture (see morphir-rust-kw8)","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-29T10:36:48Z","created_by":"damian","updated_at":"2026-01-29T10:43:22Z"}
{"id":"morphir-rust-kam1","title":"Implement Kameo actor wrapper for extensions","description":"Wrap the Morphir runtime in Kameo actors to provide isolation, concurrency, and lifecycle management for extension execution.\n\n## Background\nEach extension operation runs inside a Kameo actor that owns runtime state, loaded programs, workspace/session state, and manages the TEA loop or process() calls.\n\n## Tasks\n- [ ] Create ExtensionActor struct using Kameo\n- [ ] Implement actor lifecycle (spawn, stop, restart)\n- [ ] Add workspace and session state management\n- [ ] Implement message protocol between daemon and actors\n- [ ] Add support for loading multiple extensions per actor\n- [ ] Implement TEA loop execution within actor\n- [ ] Implement design-time process() execution within actor\n- [ ] Add async host function support\n- [ ] Stream progress and results back to daemon\n\n## Acceptance Criteria\n- ExtensionActor successfully wraps Morphir runtime\n- Actor can load and execute TEA runtime extensions\n- Actor can load and execute design-time extensions\n- Workspace/session state is maintained correctly\n- Message protocol handles requests/responses properly\n- Actors provide isolation between extension instances\n\n## References\n- docs/contributors/design/extensions/actor-based/12-wasm-extension-architecture-session.md (lines 627-686)\n\n## Related Issues\n- Depends on: morphir-rust-tea1, morphir-rust-dt1\n- Part of WASM extension architecture (see morphir-rust-kw8)","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-29T10:38:09Z","created_by":"damian","updated_at":"2026-01-29T10:38:09Z"}
{"id":"morphir-rust-kw8","title":"Design and implement Morphir daemon and extension system","description":"Design and implement a complete Morphir daemon and extension system, enabling long-running services, IDE integration, and pluggable language/backend support.\n\n## Vision\n\nCreate a daemon-based architecture that:\n1. Provides fast, incremental compilation through persistent state\n2. Enables IDE extensions (VS Code, IntelliJ, etc.) via LSP\n3. Supports pluggable frontends (language bindings) and backends (code generators)\n4. Offers real-time validation and type checking\n\n---\n\n## Phase 1: MVP Daemon (P1)\n\n### Goals\n- Basic daemon process that stays running\n- Unix socket or TCP communication\n- Simple request/response protocol (JSON-RPC or custom)\n- File watching for automatic recompilation\n\n### Deliverables\n- `morphir-daemon` crate with basic lifecycle management\n- `morphir daemon start/stop/status` CLI commands\n- Simple compile request handling\n- Basic health check endpoint\n\n### Architecture\n```\n┌─────────────┐     ┌─────────────────┐\n│  CLI/IDE    │────▶│  Morphir Daemon │\n└─────────────┘     │  ┌───────────┐  │\n                    │  │  Compiler │  │\n                    │  └───────────┘  │\n                    │  ┌───────────┐  │\n                    │  │  Cache    │  │\n                    │  └───────────┘  │\n                    └─────────────────┘\n```\n\n---\n\n## Phase 2: Extension System Design (P1)\n\n### Goals\n- Define extension API and plugin interface\n- Support dynamic loading of language bindings\n- Support dynamic loading of code generators\n- Configuration-driven extension discovery\n\n### Extension Types\n1. **Frontend Extensions** (Language Bindings)\n   - Parse source language → Morphir IR\n   - Examples: Gleam, Python, TypeScript, Elm\n\n2. **Backend Extensions** (Code Generators)\n   - Morphir IR → Target language/platform\n   - Examples: Spark, Flink, SQL, JavaScript\n\n3. **Analyzer Extensions**\n   - Custom validation rules\n   - Type inference plugins\n   - Documentation generators\n\n### Plugin Interface\n```rust\npub trait FrontendExtension {\n    fn name(\u0026self) -\u003e \u0026str;\n    fn file_extensions(\u0026self) -\u003e \u0026[\u0026str];\n    fn parse(\u0026self, source: \u0026str) -\u003e Result\u003cModuleIR\u003e;\n}\n\npub trait BackendExtension {\n    fn name(\u0026self) -\u003e \u0026str;\n    fn generate(\u0026self, ir: \u0026Distribution) -\u003e Result\u003cGeneratedOutput\u003e;\n}\n```\n\n---\n\n## Phase 3: LSP Implementation (P2)\n\n### Goals\n- Language Server Protocol implementation\n- Real-time diagnostics and error reporting\n- Go-to-definition, find references\n- Hover information with type details\n- Code completion suggestions\n\n### Deliverables\n- `morphir-lsp` crate\n- VS Code extension package\n- Support for multiple source languages\n\n---\n\n## Phase 4: Production Hardening (P2)\n\n### Goals\n- Robust error handling and recovery\n- Graceful shutdown and restart\n- Logging and observability (tracing, metrics)\n- Resource limits and throttling\n- Multi-project workspace support\n\n### Deliverables\n- Structured logging with tracing\n- Prometheus metrics endpoint\n- Watchdog and auto-restart\n- Connection pooling and request queuing\n\n---\n\n## Phase 5: IDE Extensions (P3)\n\n### Goals\n- VS Code extension with full feature set\n- IntelliJ plugin\n- Neovim/Vim LSP configuration\n- Emacs support\n\n### Features\n- Syntax highlighting\n- Inline error display\n- Code actions and quick fixes\n- Morphir IR visualization\n- Type hierarchy explorer\n\n---\n\n## Implementation Approach\n\n### Incremental Delivery\n1. Start with MVP daemon (file watch + compile)\n2. Add extension loading mechanism\n3. Implement LSP basics (diagnostics)\n4. Expand LSP features iteratively\n5. Build IDE extensions on stable LSP\n\n### Technology Choices\n- **IPC**: Unix sockets (local), TCP (remote)\n- **Protocol**: JSON-RPC 2.0 (LSP compatible)\n- **Plugin Loading**: Dynamic libraries or WASM\n- **File Watching**: notify crate\n\n---\n\n## Success Criteria\n\n### MVP\n- [ ] Daemon starts and accepts connections\n- [ ] File changes trigger recompilation\n- [ ] Compilation results returned to client\n- [ ] Clean shutdown on signal\n\n### Extension System\n- [ ] Extensions discovered from config\n- [ ] Dynamic loading works\n- [ ] Multiple frontends can coexist\n- [ ] Multiple backends can coexist\n\n### LSP\n- [ ] Diagnostics appear in VS Code\n- [ ] Go-to-definition works\n- [ ] Type information on hover\n- [ ] Extension published to marketplace\n\n---\n\n## Related Issues\n- morphir-cet: Switch to official Gleam parser (frontend extension)\n- morphir-rust-72s: Python binding using Ruff (frontend extension)\n- morphir-rust-ykr: TypeScript binding using SWC (frontend extension)","status":"in_progress","priority":1,"issue_type":"feature","created_at":"2026-01-24T11:37:30Z","created_by":"damian","updated_at":"2026-01-29T10:21:36Z"}
{"id":"morphir-rust-std1","title":"Implement standard library host functions","description":"Implement the standard library of host functions that extensions can call via the Morphir runtime.\n\n## Background\nExtensions need access to host capabilities like logging, environment variables, HTTP, filesystem, and Morphir IR helpers. These are exposed as host functions registered with the WASM runtime.\n\n## Tasks\n- [ ] Implement log(level, msg) host function\n- [ ] Implement get_env_var(name) host function\n- [ ] Implement set_env_var(name, value) host function\n- [ ] Implement random() host function\n- [ ] Implement http(request) host function for HTTP calls\n- [ ] Implement workspace(operation) for design-time workspace access\n- [ ] Implement ir_helpers() for common IR operations\n- [ ] Register all host functions with Extism\n- [ ] Create language-specific SDK bindings (Rust, TypeScript, etc.)\n- [ ] Document standard library API\n\n## Acceptance Criteria\n- All host functions work when called from WASM extensions\n- Host functions use Envelope protocol consistently\n- Error handling is robust and informative\n- SDK bindings provide ergonomic APIs for extension authors\n- Standard library is documented with examples\n\n## References\n- docs/contributors/design/extensions/actor-based/12-wasm-extension-architecture-session.md (lines 589-625)\n\n## Related Issues\n- Depends on: morphir-rust-ext1\n- Part of WASM extension architecture (see morphir-rust-kw8)","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-29T10:38:09Z","created_by":"damian","updated_at":"2026-01-29T10:38:09Z"}
{"id":"morphir-rust-steel-thread","title":"Steel Thread: Implement migrate command using extension architecture","description":"Build a working end-to-end slice of functionality using the migrate command as a proof-of-concept for the WASM extension architecture.\n\n## Goal\nDemonstrate the extension architecture with a real, working command: `morphir migrate` that transforms Morphir IR from v3 to v4 using a WASM extension.\n\n## Why Migrate Command?\n- **Design-time operation**: IR → IR transform (backend pattern)\n- **Self-contained**: No runtime execution, no complex state\n- **Real-world use case**: Actual production requirement\n- **Tests full stack**: Extension loading, envelope protocol, DirectRuntime, WASM execution\n\n## Architecture Flow\n```\nCLI --\u003e DirectRuntime --\u003e ExtismRuntime --\u003e migrate.wasm\n        (morphir-ext)     (morphir-ext)     (extension)\n```\n\n## Implementation Steps\n\n### 1. Minimal ExtismRuntime (morphir-rust-ext1)\n- [ ] Create morphir-ext/src/extism_runtime.rs\n- [ ] Implement ExtismRuntime struct\n- [ ] Implement call_envelope() method only\n- [ ] Load WASM via Extism Manifest\n- [ ] Basic error handling (map Extism errors)\n- [ ] Skip TEA helpers initially\n\n### 2. Minimal DirectRuntime (morphir-rust-direct1)\n- [ ] Create morphir-ext/src/direct.rs\n- [ ] Implement DirectRuntime wrapping ExtismRuntime\n- [ ] Simple API: execute(func_name, input_envelope) -\u003e output_envelope\n- [ ] No actor infrastructure\n- [ ] No state management initially\n\n### 3. Minimal Host Functions (morphir-rust-std1)\n- [ ] Create morphir-ext/src/host_functions.rs\n- [ ] Implement log() function only (for debugging)\n- [ ] Register with Extism\n- [ ] Skip HTTP, workspace, IR helpers for now\n\n### 4. Migrate Extension (WASM module)\n- [ ] Create crates/morphir-migrate-extension\n- [ ] Implement backend-generate interface\n- [ ] Input: Envelope with IR v3 JSON\n- [ ] Output: Envelope with IR v4 JSON\n- [ ] Use wit-bindgen or core WASM\n- [ ] Compile to WASM (wasm32-unknown-unknown)\n\n### 5. CLI Integration\n- [ ] Update morphir CLI to support extension-based migrate\n- [ ] Load migrate.wasm using DirectRuntime\n- [ ] Read input IR file\n- [ ] Call extension with IR envelope\n- [ ] Write output IR file\n- [ ] Add --extension-path flag for WASM path\n\n### 6. Testing\n- [ ] Unit tests for ExtismRuntime\n- [ ] Unit tests for DirectRuntime\n- [ ] Integration test: Load real WASM module\n- [ ] E2E test: morphir migrate with sample IR\n- [ ] Test error handling (bad WASM, invalid IR, etc.)\n\n## Success Criteria\n- [ ] `morphir migrate input.json output.json` works end-to-end\n- [ ] Extension loaded via ExtismRuntime\n- [ ] Envelope protocol used throughout\n- [ ] No daemon required (DirectRuntime only)\n- [ ] Extension never sees Extism types\n- [ ] Clean error messages\n- [ ] Documentation of the flow\n\n## Out of Scope (for now)\n- Full TEA runtime (init/update/subscriptions)\n- DaemonClient (remote execution)\n- Full host function library\n- Complex extensions\n- Actor-based execution\n\n## After Steel Thread\nOnce working, expand to:\n- Full TEA runtime support\n- DaemonClient implementation\n- Complete host function library\n- More extensions (frontends, backends)\n\n## References\n- docs/contributors/design/extensions/actor-based/12-wasm-extension-architecture-session.md\n- morphir-ext/src/runtime.rs (ExtensionRuntime trait)\n\n## Related Issues\n- Part of WASM extension architecture (see morphir-rust-kw8)\n- Simplifies: morphir-rust-ext1, morphir-rust-direct1, morphir-rust-std1","status":"in_progress","priority":0,"issue_type":"feature","created_at":"2026-01-29T12:30:00Z","created_by":"damian","updated_at":"2026-01-30T01:32:50Z"}
{"id":"morphir-rust-steel-thread-v2","title":"[UPDATED] Steel Thread with Integration Test Plan","description":"Build end-to-end working migrate command with comprehensive integration testing.\n\n## PREREQUISITE: Review Integration Test Plan\n\n**BEFORE IMPLEMENTATION**: Review the integration test plan and Gherkin scenarios:\n- docs/contributors/testing/steel-thread-integration-test-plan.md\n- crates/integration-tests/tests/features/steel-thread.feature\n\nProvide feedback or approval before implementation begins.\n\n## Goal\nDemonstrate the extension architecture with a real, working command: `morphir migrate` with full integration test coverage.\n\n## Architecture Flow\n\n```\nCLI (morphir migrate)\n  │\n  ├─\u003e morphir-builtins::MigrateExtension (native mode)\n  │     │\n  │     └─\u003e execute_native(\u0026Envelope)\n  │           │\n  │           └─\u003e Returns Envelope\n  │\n  └─\u003e [P2] DirectRuntime + ExtismRuntime (WASM mode)\n        │\n        └─\u003e Loads migrate.wasm\n              │\n              └─\u003e Calls via Extism\n\nTest Pyramid:\n                     ┌─────────────────┐\n                     │  E2E CLI Tests  │  ← steel-thread.feature\n                     │  (Gherkin)      │     (26 scenarios)\n                     └────────┬────────┘\n                              │\n                    ┌─────────┴──────────┐\n                    │  Component Tests   │  ← per-crate Gherkin\n                    │  (Rust + Gherkin)  │     + unit tests\n                    └─────────┬──────────┘\n                              │\n                    ┌─────────┴─────────┐\n                    │   Unit Tests      │  ← function-level\n                    │   (Rust)          │     (per-module)\n                    └───────────────────┘\n```\n\n## Implementation Steps\n\n### 0. **FIRST: Review and Approve Integration Test Plan**\n- [ ] Review docs/contributors/testing/steel-thread-integration-test-plan.md\n- [ ] Review crates/integration-tests/tests/features/steel-thread.feature\n- [ ] Provide feedback or explicit approval\n\n### 1. Minimal ExtismRuntime (morphir-rust-ext1)\n- [ ] Create Gherkin tests for ExtismRuntime\n- [ ] Get user approval on Gherkin scenarios\n- [ ] Implement morphir-ext/src/extism_runtime.rs\n- [ ] Implement call_envelope() method only\n- [ ] Load WASM via Extism Manifest\n- [ ] Basic error handling\n- [ ] All Gherkin tests pass\n\n### 2. Minimal DirectRuntime (morphir-rust-direct1)\n- [ ] Create Gherkin tests for DirectRuntime\n- [ ] Get user approval on Gherkin scenarios\n- [ ] Implement morphir-ext/src/direct.rs\n- [ ] Wrap ExtismRuntime\n- [ ] Simple execute() API\n- [ ] All Gherkin tests pass\n\n### 3. Minimal Host Functions (morphir-rust-std1)\n- [ ] Create Gherkin tests for host functions\n- [ ] Get user approval on Gherkin scenarios\n- [ ] Implement morphir-ext/src/host_functions.rs\n- [ ] Implement log() function only\n- [ ] Register with Extism\n- [ ] All Gherkin tests pass\n\n### 4. Complete MigrateExtension (morphir-rust-builtins-v2)\n- [ ] Create Gherkin tests for migrate extension\n- [ ] Get user approval on Gherkin scenarios\n- [ ] Move migrate logic from CLI to morphir-builtins\n- [ ] Implement native execution path\n- [ ] Support all conversion paths (Classic↔V4)\n- [ ] All Gherkin tests pass\n\n### 5. CLI Integration\n- [ ] Update morphir CLI to use MigrateExtension\n- [ ] Refactor migrate.rs to delegate to morphir-builtins\n- [ ] Maintain backward compatibility\n- [ ] Add --mode flag (native/wasm) for future\n\n### 6. Integration Testing\n- [ ] Implement test runner: integration-tests/tests/steel_thread.rs\n- [ ] Add test fixtures to fixtures/steel-thread/\n- [ ] Run P0 scenarios (native mode): 13 scenarios\n- [ ] All P0 steel-thread.feature scenarios pass\n- [ ] Document any failures or issues\n\n### 7. WASM Mode (P2 - Future)\n- [ ] Compile morphir-builtins to WASM\n- [ ] Test WASM version with DirectRuntime\n- [ ] Run P2 scenarios (WASM mode): 3 scenarios\n- [ ] Performance comparison (native vs WASM)\n\n## Test Coverage Breakdown\n\n### steel-thread.feature (26 scenarios)\n\n**P0 - Native Mode (13 scenarios):**\n- ✅ Classic → V4 migration\n- ✅ V4 → Classic migration\n- ✅ Same-format no-ops\n- ✅ Error handling (invalid version, missing file, malformed IR)\n- ✅ Stdout output with JSON mode\n- ✅ Dependency warnings\n- ✅ Expanded format option\n- ✅ Envelope protocol validation\n\n**P1 - Remote Sources (3 scenarios):**\n- ✅ HTTP URL sources\n- ✅ Force refresh\n- ✅ No cache option\n\n**P2 - WASM Mode (3 scenarios):**\n- ✅ WASM execution\n- ✅ Native vs WASM result comparison\n- ✅ Performance benchmarking\n\n**P1 - Regression (3 scenarios):**\n- ✅ Module structure preservation\n- ✅ Type definitions preservation\n- ✅ Value definitions preservation\n\n**P0 - Envelope Protocol (2 scenarios):**\n- ✅ Protocol usage validation\n- ✅ Metadata validation\n\n## Success Criteria (MVP)\n\n- [ ] All morphir-builtins Gherkin tests pass\n- [ ] All morphir-ext Gherkin tests pass\n- [ ] `morphir migrate` works with native builtin\n- [ ] All 13 P0 steel-thread.feature scenarios pass\n- [ ] Classic → V4 conversion validated end-to-end\n- [ ] V4 → Classic conversion validated end-to-end\n- [ ] Error handling works (3 error scenarios pass)\n- [ ] Envelope protocol validated (2 envelope scenarios pass)\n- [ ] CI runs steel thread tests on every commit\n\n## Success Criteria (Extended - P2)\n\n- [ ] morphir-builtins compiled to WASM\n- [ ] `morphir migrate --mode wasm` works\n- [ ] All 3 P2 WASM scenarios pass\n- [ ] Native and WASM produce identical results\n- [ ] Performance comparison documented\n\n## CI/CD Integration\n\n```yaml\nname: Steel Thread Tests\njobs:\n  steel-thread:\n    steps:\n      - Build CLI\n      - Run unit tests (all components)\n      - Run component Gherkin tests\n      - Run steel-thread.feature (P0 scenarios)\n      - Generate coverage report\n      - Upload test results\n```\n\n## References\n\n- Integration Test Plan: docs/contributors/testing/steel-thread-integration-test-plan.md\n- Gherkin Scenarios: crates/integration-tests/tests/features/steel-thread.feature\n- Architecture Doc: docs/contributors/design/extensions/actor-based/12-wasm-extension-architecture-session.md\n- ADR-0001: Envelope-Only Execution\n\n## Related Issues\n\n- morphir-rust-ext1: ExtismRuntime (with Gherkin tests)\n- morphir-rust-direct1: DirectRuntime (with Gherkin tests)\n- morphir-rust-std1: Host functions (with Gherkin tests)\n- morphir-rust-builtins-v2: Builtin extensions (with Gherkin tests)\n- Part of: morphir-rust-kw8 (WASM extension architecture)","status":"open","priority":0,"issue_type":"feature","created_at":"2026-01-29T15:00:00Z","created_by":"damian","updated_at":"2026-01-29T15:00:00Z"}
{"id":"morphir-rust-tea1","title":"Implement TEA runtime for runtime extensions","description":"Implement The Elm Architecture (TEA) runtime engine for runtime extensions with init/update/subscriptions semantics.\n\n## PREREQUISITE: Gherkin Acceptance Tests Required\n\n**BEFORE IMPLEMENTATION**: Prepare comprehensive Gherkin acceptance tests and present to user for approval. Implementation may NOT proceed without user verification of tests.\n\nTests must cover:\n- MorphirProgram construction and initialization\n- init() call with various flags, model + cmds parsing\n- update() with different message types, state transitions\n- subscriptions() lifecycle and event stream handling\n- Command interpretation and execution\n- Subscription manager operation\n- State management across multiple update cycles\n- Error cases (invalid model, malformed commands, etc.)\n\n## Background\nRuntime extensions follow TEA-style architecture: pure functions (init/update/subscriptions) that return model and commands, with the runtime managing state and interpreting effects.\n\n## Tasks\n- [ ] **FIRST: Create Gherkin acceptance tests and get user approval**\n- [ ] Implement MorphirProgram struct wrapping ExtismRuntime\n- [ ] Implement init() method: calls extension init, parses model + cmds\n- [ ] Implement update() method: combines msg + model, calls extension, parses output\n- [ ] Implement subscriptions() method: calls extension with model\n- [ ] Add start/send/poll API for host to interact with runtime\n- [ ] Implement command interpreter (cmds envelope -\u003e host function calls)\n- [ ] Implement subscription manager (subs envelope -\u003e event streams)\n- [ ] Add per-program state management\n\n## Acceptance Criteria\n- **Gherkin tests approved by user before implementation**\n- All Gherkin scenarios pass\n- MorphirProgram successfully calls init() and maintains model state\n- update() correctly processes messages and returns new model + commands\n- subscriptions() returns subscription specifications\n- Commands are interpreted and executed via host functions\n- Runtime exposes clean start/send/poll API to host\n\n## References\n- docs/contributors/design/extensions/actor-based/12-wasm-extension-architecture-session.md (lines 239-280, 511-588)\n- ~/AGENTS.md - Gherkin Acceptance Test Requirement\n\n## Related Issues\n- Depends on: morphir-rust-ext1\n- Part of WASM extension architecture (see morphir-rust-kw8)","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-29T10:37:19Z","created_by":"damian","updated_at":"2026-01-29T10:43:22Z"}
{"id":"morphir-rust-wit1","title":"Define WIT interfaces for Component Model support","description":"Define WebAssembly Interface Types (WIT) for the extension ABI to support WebAssembly Component Model in addition to core WASM.\n\n## Background\nThe Component Model provides a more structured and type-safe way to build WASM modules. Defining WIT interfaces enables extensions to use wit-bindgen and provides better interoperability.\n\n## Tasks\n- [ ] Define envelope.wit with Header and Envelope types\n- [ ] Define runtime.wit with host function imports\n- [ ] Define program.wit with TEA extension exports (init/update/subscriptions)\n- [ ] Define design-time.wit with frontend/backend extension exports\n- [ ] Create Component Model wrappers for Wasmtime\n- [ ] Create Component Model wrappers for jco (browser)\n- [ ] Test Component Model extensions alongside core WASM extensions\n- [ ] Document Component Model build process for extension authors\n\n## Acceptance Criteria\n- WIT definitions compile and generate correct bindings\n- Extensions can be built using wit-bindgen\n- Component Model extensions work with core WASM runtime\n- Browser support via jco is functional\n- Documentation guides extension authors through Component Model usage\n\n## References\n- docs/contributors/design/extensions/actor-based/12-wasm-extension-architecture-session.md (lines 393-508)\n\n## Related Issues\n- Depends on: morphir-rust-env1\n- Part of WASM extension architecture (see morphir-rust-kw8)\n- Optional/future enhancement (P3)","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-29T10:38:09Z","created_by":"damian","updated_at":"2026-01-29T10:38:09Z"}
{"id":"morphir-rust-y0l","title":"Fix failing Gleam binding acceptance tests","description":"Several Gleam binding acceptance tests are failing and have been marked as @wip (work in progress):\n\n## Failing Tests\n\n### 1. Roundtrip Tests (roundtrip.feature)\n- **order_validation** scenario - Parser fails on generated function signatures with tupled arguments\n- **order_processing** scenario - Same parser issue with function signatures\n\n### 2. CLI Integration Tests (cli.feature)\n- All CLI tests - Require full CLI functionality to be implemented\n\n### 3. Project Parsing Tests (project.feature)\n- Module name lookup uses full path instead of module name (e.g., looking for 'main' but stored as 'src/main')\n\n### 4. Workspace Tests (workspace.feature)\n- Workspace parsing not yet implemented\n\n### 5. Code Generation Tests (codegen.feature)\n- Code generation steps not yet implemented\n\n## Root Causes\n\n1. **Roundtrip failures**: The Gleam parser generates function signatures with tupled parameters like `fn(#(a, b))` but cannot parse them back. The signature should be `fn(a, b)` or handle tupled parameters correctly.\n\n2. **Project parsing**: Module names need to be derived from the file path relative to src/, not include the full path or 'src/' prefix.\n\n3. **CLI/Workspace/Codegen**: These features are not yet implemented.\n\n## Impact\nBlocking full roundtrip testing for complex business logic fixtures.","status":"open","priority":2,"issue_type":"bug","created_at":"2026-01-24T11:30:03Z","created_by":"damian","updated_at":"2026-01-24T11:30:14Z"}
{"id":"morphir-rust-ykr","title":"Implement TypeScript binding using SWC parser crate","description":"Create a morphir-typescript-binding crate that uses SWC's parser and AST crates to parse TypeScript source code and convert it to Morphir IR.\n\n## Background\n\nSWC (Speedy Web Compiler) is a fast TypeScript/JavaScript compiler written in Rust. It provides production-quality parser and AST crates:\n- `swc_ecma_parser` - ECMAScript/TypeScript parser\n- `swc_ecma_ast` - ECMAScript/TypeScript AST types\n\n## Goals\n\n1. Create `morphir-typescript-binding` crate following the same pattern as `morphir-gleam-binding`\n2. Use SWC's parser crate for parsing TypeScript source files\n3. Transform SWC's TypeScript AST to Morphir IR\n4. Leverage TypeScript's type annotations for rich type information\n5. Enable roundtrip testing (TypeScript → IR → TypeScript)\n\n## Benefits\n\n- **Performance**: SWC is one of the fastest TS/JS parsers available\n- **Correctness**: Battle-tested parser used by Next.js, Deno, and other major projects\n- **Compatibility**: Full TypeScript syntax support including latest features\n- **Maintenance**: Active development with regular releases\n\n## Implementation Steps\n\n1. Add swc_ecma_parser and swc_ecma_ast as dependencies\n2. Create TypeScript AST to ModuleIR visitor\n3. Handle TypeScript-specific constructs (interfaces, type aliases, generics)\n4. Support both .ts and .tsx files\n5. Add BDD acceptance tests with TypeScript fixtures\n6. Support TypeScript project parsing (tsconfig.json awareness)\n\n## TypeScript Features to Support\n\n- Function declarations with type annotations\n- Interface and type alias definitions\n- Class definitions\n- Module imports/exports\n- Generic types\n- Union and intersection types\n\n## References\n\n- SWC GitHub: https://github.com/swc-project/swc\n- swc_ecma_parser crate: https://crates.io/crates/swc_ecma_parser\n- swc_ecma_ast crate: https://crates.io/crates/swc_ecma_ast","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-24T11:36:03Z","created_by":"damian","updated_at":"2026-01-24T11:36:13Z"}
{"id":"morphir-rxe","title":"Add CLI integration tests using real IR fixtures","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T01:10:48Z","created_by":"damian","updated_at":"2026-01-05T17:29:23Z","closed_at":"2026-01-03T11:41:52Z","close_reason":"CLI integration tests added for validate command. Tests pass with base-ir.json fixture."}
{"id":"morphir-snf","title":"Implement morphir decoration-setup command","description":"Create CLI command 'morphir decoration-setup' that auto-configures decorations in morphir.json/morphir.toml. Command should read decoration IR, detect entry point, and add decoration config. Support -i flag for decoration IR path. Reference morphir-elm implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T09:02:36Z","created_by":"Damian Reeves","updated_at":"2026-01-12T22:08:08Z","closed_at":"2026-01-12T22:08:08Z","close_reason":"Closed"}
{"id":"morphir-szb","title":"WIT Frontend for Morphir IR v4","description":"Create a frontend that parses WIT (WebAssembly Interface Types) files and produces Morphir IR v4.\n\n## Goals\n- Parse WIT interface definitions\n- Generate Morphir IR types, modules, and packages\n- Support full WIT type system (records, variants, resources, etc.)\n- Enable interop with existing Component Model ecosystem\n\n## Use Cases\n- Import existing WIT interfaces into Morphir projects\n- Generate Morphir bindings for Component Model components\n- Validate Morphir types against WIT contracts\n\n## Scope\n- WIT parser (or leverage existing wit-parser)\n- WIT → Morphir IR type mapping\n- Handle resources, worlds, and interfaces\n- Generate SDK-style modules from WIT packages","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-17T18:20:14Z","created_by":"damian","updated_at":"2026-01-17T18:20:14Z"}
{"id":"morphir-szr","title":"Support archive expansion policies","description":"Define policies for when archives are expanded vs treated as opaque, and add helpers to toggle exploded views.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-05T17:26:55Z","created_by":"damian","updated_at":"2026-01-05T17:29:23Z"}
{"id":"morphir-tol","title":"Add TUI validate command with interactive markdown viewer","description":"Create an interactive TUI version of the validate command using Charmbracelet libraries.\n\n## Overview\nAdd a `--tui` or `-i` flag to the validate command that launches an interactive terminal UI for exploring validation results.\n\n## UI Layout\n```\n┌─────────────────┬──────────────────────────────────────────┐\n│ Files           │ # Morphir IR Validation Report           │\n│ ────────────    │                                          │\n│ ▼ Validated     │ ❌ **Overall Status: ERRORS FOUND**      │\n│   ├ base.json ✓ │                                          │\n│   ├ list.json ✗ │ ## File: list.json                       │\n│   └ tree.json ✗ │                                          │\n│                 │ ### Error Analysis                       │\n│                 │ ...                                       │\n│                 │                                          │\n│                 │ [j/k: scroll] [q: quit] [/: search]      │\n└─────────────────┴──────────────────────────────────────────┘\n```\n\n## Features\n- **Sidebar**: Treeview file explorer showing validated IR files\n  - Flat tree for single files, expandable for multiple\n  - Status indicators (✓/✗) for each file\n  - Click/enter to select and view file's report\n- **Main Content**: Rendered markdown report\n  - Styled using glamour (Charmbracelet's markdown renderer)\n  - Pager-like scrolling behavior (less/bat style)\n  - Vim keybindings (j/k, gg/G, Ctrl+d/u, /)\n- **Search**: Filter/search within report content\n- **Keyboard navigation**: Full vim-style navigation\n\n## Libraries\n- `github.com/charmbracelet/bubbletea` - TUI framework\n- `github.com/charmbracelet/bubbles` - UI components (viewport, list)\n- `github.com/charmbracelet/glamour` - Markdown rendering\n- `github.com/charmbracelet/lipgloss` - Styling\n\n## Usage\n```bash\nmorphir validate ./path/to/ir --tui\nmorphir validate ./file1.json ./file2.json --tui\n```\n\n## Dependencies\n- Depends on: morphir-go-y4a (reusable TUI component)\n- Related: morphir-go-z3b (glow-style markdown output)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-03T12:56:01Z","created_by":"damian","updated_at":"2026-01-05T17:29:23Z","closed_at":"2026-01-04T00:23:31Z"}
{"id":"morphir-trm","title":"Integration tests for workflow execution","description":"Add integration tests that verify end-to-end workflow execution, not just planning.\n\n**GitHub Issue:** https://github.com/finos/morphir/issues/537\n\n## Scope\n- Execute single-stage and multi-stage workflows\n- Verify task outputs are created correctly\n- Test workflow failure scenarios\n- Add BDD scenarios for workflow execution","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-12T16:12:47Z","created_by":"damian","updated_at":"2026-01-13T09:56:26Z","closed_at":"2026-01-12T22:06:57Z"}
{"id":"morphir-uo8","title":"Remove Go code and migrate CI/CD to Rust","description":"This repository previously contained the Go implementation of Morphir tooling. That code has moved to finos/morphir-go. \n\nThis repo now focuses on:\n1. The Docusaurus website (website/)\n2. Rust-based tooling (crates/morphir-live)\n\n## Goals\n- Remove all Go source code and modules\n- Update CI/CD workflows from Go-centric to Rust-focused\n- Update mise tasks for Rust development\n- Clean up Go-related configuration files\n\n## What to Remove\n- cmd/morphir/ - Main Go CLI\n- pkg/ - 16 Go packages (3.4MB)\n- tests/bdd/ - Go BDD tests\n- All go.mod, go.sum, go.work files\n- .goreleaser.yaml\n- Go-related mise tasks\n\n## What to Keep\n- crates/ - Rust workspace\n- website/ - Docusaurus\n- docs/ - Documentation\n- Cargo.toml, Cargo.lock","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-29T18:26:29Z","created_by":"damian","updated_at":"2026-01-29T19:00:08Z","closed_at":"2026-01-29T19:00:08Z","close_reason":"Closed"}
{"id":"morphir-usm","title":"Add VFS write operations and mount permission enforcement","description":"Implement write APIs (create/update/delete) with mount RO/RW enforcement and sandbox policy hooks.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T17:27:02Z","created_by":"damian","updated_at":"2026-01-06T20:24:38Z","closed_at":"2026-01-06T20:24:38Z"}
{"id":"morphir-vmx","title":"Port Morphir.SDK runtime implementations from morphir-elm to Go","description":"Port the Morphir.SDK runtime implementations from finos/morphir-elm to pkg/sdk/. This is the actual runtime implementation layer (separate from IR.SDK which contains IR specifications). The SDK provides concrete implementations of standard library functions and types.\n\nKey modules to implement:\n- Core: Basics, Int, String, Char\n- Collections: List, Dict, Set, Tuple  \n- Optional/Result: Maybe, Result, ResultList\n- Date/Time: LocalDate, LocalTime, Instant\n- Specialized: Decimal, UUID, Key, Regex, Number\n- Advanced: Aggregate, Rule, StatefulApp\n\nStructure:\n- Each module provides Go implementations of SDK functions\n- Runtime evaluation and execution support\n- Integration with native functions registry\n- Proper Go idiomatic patterns while maintaining Morphir semantics\n\nDependencies:\n- Requires Morphir.IR.SDK (morphir-9ns) to be completed first\n- Builds on top of the IR model in pkg/models/stable/ir/","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-02T14:55:00Z","created_by":"damian","updated_at":"2026-01-05T17:29:23Z"}
{"id":"morphir-vn8","title":"Create fixture fetching script","description":"Create script to fetch morphir IR fixtures from morphir-elm repository","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-02T09:53:09Z","created_by":"damian","updated_at":"2026-01-05T17:29:23Z","closed_at":"2026-01-02T10:24:46Z","close_reason":"Created fetch-fixtures.sh script that generates minimal V1/V3 fixtures and can fetch morphir-elm reference model"}
{"id":"morphir-vsp","title":"WAT Code Generation Backend","description":"Create a Morphir backend that generates WAT (WebAssembly Text Format) from Morphir IR.\n\n## Goals\n- Generate human-readable WAT from Morphir IR\n- Enable debugging and inspection of generated Wasm\n- Support both core Wasm and Component Model output\n- Produce well-formatted, commented WAT\n\n## Rationale\nWAT provides a text representation of WebAssembly that is:\n- Human-readable for debugging\n- Diff-friendly for version control\n- Useful for learning and documentation\n- Convertible to binary Wasm via wat2wasm\n\n## Scope\n- WAT emission from Wasm IR\n- Readable formatting with comments\n- Function and type naming\n- Source location comments\n- Component Model adapter layer generation","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-17T18:20:25Z","created_by":"damian","updated_at":"2026-01-17T18:20:25Z"}
{"id":"morphir-w34","title":"Define WIT AST/domain model","description":"Add core WIT AST/domain model types in pkg/bindings/wit/domain for parsing and emission. Design comprehensive model with support for packages, interfaces, worlds, types, and functions. Use tagged union pattern (Go interfaces) with support for future visitor pattern implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T09:56:35Z","created_by":"damian","updated_at":"2026-01-06T11:38:18Z","closed_at":"2026-01-06T11:38:18Z","close_reason":"Completed comprehensive WIT domain model with proper typing, avoiding primitive obsession. Implemented discriminated unions for UsePath, WorldItem, InterfaceRef, TypeDefKind, and Type hierarchy. Added functional traversal utilities (WalkType, MapType, FoldType) and visitor pattern support for extensibility."}
{"id":"morphir-w96","title":"Upgrade Docusaurus website from 2.4.3 to 3.x","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T19:23:31Z","created_by":"damian","updated_at":"2026-01-08T21:00:13Z","closed_at":"2026-01-08T21:00:13Z","close_reason":"PR #523 merged - Docusaurus upgraded from 2.4.3 to 3.9.2"}
{"id":"morphir-wct","title":"Implement glob-based member discovery","description":"Implement glob pattern matching for discovering workspace members:\n- Support patterns like 'packages/*', 'libs/**', 'apps/*/frontend'\n- Handle exclude patterns (e.g., '!**/node_modules')\n- Recursively find morphir.toml or morphir.json in matched directories\n- Return ordered list of discovered member paths","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T20:02:59Z","created_by":"damian","updated_at":"2026-01-05T17:29:23Z","closed_at":"2026-01-02T20:30:19Z","close_reason":"Implementation complete with tests passing"}
{"id":"morphir-x59","title":"Add error code appendix to validation reports","description":"Improve validation report readability by adding an appendix with indexed rule descriptions.\n\n## Current State\n- Validation errors repeat similar explanations for each occurrence\n- Users see the same suggestion text multiple times in long reports\n\n## Desired State\n- Assign error codes to each violation type (e.g., E001: Pattern mismatch, E002: oneOf failed)\n- Reference error codes inline in the Detailed Errors section\n- Add an Appendix section at the end with full descriptions for each error code used\n- Only include error codes that appear in the report (no unused codes)\n\n## Example Output\n```markdown\n### Detailed Errors\n\n**Path:** `/distribution/3/modules/0/0/1/2`\n**Issue:** [E001] '2052' does not match pattern...\n\n---\n\n## Appendix: Error Code Reference\n\n### E001: Pattern Mismatch\nEach name part must be either a lowercase word (starting with a letter) or a standalone number.\nThe Morphir IR schema requires identifiers to follow specific naming conventions.\n\n### E002: Type Variant Mismatch\nThe value doesn't match any of the expected type variants...\n```\n\n## Benefits\n- Reduces report verbosity\n- Easier to scan for specific error types\n- Consistent error documentation","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-03T12:41:58Z","created_by":"damian","updated_at":"2026-01-05T17:29:23Z","closed_at":"2026-01-03T13:36:00Z","close_reason":"Implemented error code appendix with inline codes and appendix section"}
{"id":"morphir-yle","title":"Add pipeline unit tests for composition and error handling","description":"Create tests covering step ordering, diagnostics aggregation, and short-circuit behavior for pipeline execution.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-05T07:25:40Z","created_by":"damian","updated_at":"2026-01-07T23:47:39Z","closed_at":"2026-01-07T23:47:39Z","close_reason":"Implemented in PR #484"}
{"id":"morphir-ymc","title":"Add CLI usage specs for workspace and compile commands","description":"## Context\n\nThe VFS protocol v4 design now includes comprehensive JSON-RPC methods for:\n- Workspace management (create, open, close, projects, dependencies)\n- Frontend compilation (workspace, project, module, files, fragment)\n- VFS operations (read, propose, commit, subscribe)\n\n## Format\n\nUse **usage specs** (https://usage.jdx.dev/spec/) - KDL-based CLI specification format (\"OpenAPI for CLIs\").\n\nExample structure:\n```kdl\nname \"morphir\"\nbin \"morphir\"\nversion \"4.0.0\"\nabout \"Morphir CLI - functional domain modeling toolchain\"\n\ncmd \"workspace\" help=\"Manage workspaces\" {\n    cmd \"init\" help=\"Create a new workspace\" {\n        arg \"\u003cpath\u003e\" help=\"Workspace root directory\"\n        flag \"-n --name \u003cname\u003e\" help=\"Workspace name\"\n    }\n    cmd \"open\" help=\"Open an existing workspace\" {\n        arg \"\u003cpath\u003e\" help=\"Workspace root directory\"\n    }\n    // ...\n}\n\ncmd \"compile\" help=\"Compile Morphir source to IR\" {\n    arg \"[path]\" help=\"Project or workspace path\" default=\".\"\n    flag \"-m --module \u003cmodule\u003e\" help=\"Compile single module\"\n    flag \"-i --incremental\" help=\"Incremental compilation\"\n    flag \"-w --watch\" help=\"Watch for changes\"\n}\n```\n\n## Scope\n\nDefine usage specs for:\n\n### Workspace Commands\n- `morphir workspace init` - Create new workspace\n- `morphir workspace open` - Open existing workspace  \n- `morphir workspace close` - Close workspace\n- `morphir workspace add` - Add project to workspace\n- `morphir workspace remove` - Remove project\n- `morphir workspace list` - List projects\n- `morphir workspace build` - Build all projects\n- `morphir workspace clean` - Clean artifacts\n- `morphir workspace watch` - Watch for changes\n\n### Compile Commands\n- `morphir compile` - Compile project/workspace\n- `morphir compile --module` - Compile single module\n- `morphir compile --files` - Compile specific files\n- `morphir compile --fragment` - Compile code fragment (REPL)\n\n### Dependency Commands\n- `morphir deps add` - Add dependency\n- `morphir deps remove` - Remove dependency\n- `morphir deps resolve` - Resolve dependencies\n- `morphir deps list` - List dependencies\n\n### Generate Commands\n- `morphir generate` - Generate target code\n- `morphir generate --target` - Specify target language\n\n## Deliverables\n- `morphir.usage.kdl` - Complete usage spec file\n- Integration with shell completions (bash, zsh, fish)\n- Man page generation\n- Help text validation","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-16T03:08:38Z","created_by":"damian","updated_at":"2026-01-16T03:11:02Z"}
{"id":"morphir-yvq","title":"Implement decoration type registry","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-12T22:32:39Z","created_by":"Damian Reeves","updated_at":"2026-01-12T22:47:30Z","closed_at":"2026-01-12T22:47:30Z","close_reason":"Closed"}
{"id":"morphir-z0r","title":"Add new module validation to release:validate task","description":"From v0.4.0-alpha.3 retrospective: The release:validate task should check that:\n1. All go.mod files have corresponding entries in .goreleaser.yaml go mod tidy list\n2. All scripts referenced in .goreleaser.yaml hooks actually exist\n3. All modules in go.work are in the lint task modules list\n\nThis would have caught the missing pkg/logging in .goreleaser.yaml and the non-existent remove-replace-directives.sh script.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T14:57:17Z","created_by":"damian","updated_at":"2026-01-13T15:04:02Z","closed_at":"2026-01-13T15:04:02Z","close_reason":"Addressed in PR #554"}
{"id":"morphir-z7f","title":"Update documentation references","description":"Update documentation that references Go development:\n\nFiles to review:\n- AGENTS.md\n- DEVELOPING.md (if exists)\n- CI_RELEASE_FAQ.md\n- README.md\n- docs/ content\n\nRemove Go-specific sections, update with Rust equivalents where appropriate.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-29T18:28:08Z","created_by":"damian","updated_at":"2026-01-29T18:59:51Z","closed_at":"2026-01-29T18:59:51Z","close_reason":"Closed"}
{"id":"morphir-zdb","title":"Implement decoration value file loader/saver","description":"Create loader and saver for decoration value JSON files. Files are keyed by FQName (e.g., 'My.Package:Foo:bar'). Support reading/writing decoration values, maintaining FQName-to-value mappings. Follow functional patterns with immutable data structures.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T09:01:31Z","created_by":"Damian Reeves","updated_at":"2026-01-12T21:13:20Z","closed_at":"2026-01-12T21:13:20Z","close_reason":"Closed"}
{"id":"morphir-zvf","title":"Add WIT bindings module with parser and package support","description":"Create new Go module at pkg/bindings/wit for WIT parsing and package emission. Design parser for reuse as Morphir frontend/backend with pipeline integration points. Use bytecodealliance/wit package for parsing. Add BDD tests using existing WIT packages (e.g., WASI) as fixtures for parsing and creation.\n\nSubtasks:\n- Create Go module scaffolding (go.mod/go.sum) and add to go.work\n- Add WIT AST/domain model types for parsing and emission\n- Implement adapter from bytecodealliance/wit to Morphir domain model\n- Implement WIT package writer/emitter\n- Add pipeline integration hooks (frontend/backend adapters)\n- Add BDD fixtures for WASI packages and parsing/creation scenarios\n- Document module usage and pipeline integration","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T09:19:58Z","created_by":"damian","updated_at":"2026-01-07T04:37:06Z","closed_at":"2026-01-07T04:37:06Z","close_reason":"Core WIT bindings module complete: domain model, adapter, emitter, and BDD tests all implemented. Pipeline integration (morphir-jed) tracked separately. Documentation can be added as follow-up."}
{"id":"morphir-zzc","title":"Phase 5: Test Fixtures and Examples","description":"Provide comprehensive test coverage and examples for decorations feature. Extract test fixtures from morphir-elm codebase, create example decoration schemas, create integration tests, and update documentation with examples. This phase ensures the decorations feature is well-tested and documented.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-09T09:20:34Z","created_by":"Damian Reeves","updated_at":"2026-01-12T22:47:27Z","closed_at":"2026-01-12T22:47:27Z","close_reason":"Closed"}
